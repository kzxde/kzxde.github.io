{"pages":[],"posts":[{"title":"HEXO博客写作指南","text":"19ca6ace21bd8565d7072de95867f94628450aa0ce1d163c17f0b4e1e1eb2e4d10d1f0204252f6e17f222bb50ff245aa5dccba285c9d031ba3c72b63b4ce8de88a4d5060f1dbd9d0abe25e972284a618fef58c64eca9e5967eb17cf90ad4420f2249e9d0043885b34b5bc4e3ff03e79c7a54fce0f2fea194e1ed1c10a00e47017d95e2492a6a57b7b64eefc66768bc178b9416ed619a49d3d6eb09268f16138934c90809cdd70d45986462babdf622cd8099e1851729af463a65aed5fef46c28500b77980e3a06e0ba391eb518955f6e32681fb66ff6c5c9825744586f5d7818b406ee199918e012f1c635a8738b90b2386f6df0b591ac09f67e173d97fa02b3045a4e7edfabcf2a2ac572269d690688e418315e68490d2f14c4d82c723725697de79b80501de2d1132570b91dbc571750724c60e6fe8d1aa375fa0f6075f7c8de1dbd61f7bae8018cb67f5b1635c4c89bfbbe89c8d2611f0e4893ef2b1f7b986c9935f399a5c5564a6b8865b822abf72b61a545330bd12eb6ac46afa9ea51f957545ae8ea5c353b0eae066a0204b36437497cbb1abd38c1a65492d5a14f1023cf954109932073a24ccb6296355b7eebe75ed9abf0442898dc377b4b10c4425e7722fd30be56960ddc4e508386ecf57d084dfad69cffc8cbb4fd3c8a2e988f4266ef95ac40c1be570ff60aa08b1c507a7e0586f4372ae1d1a31577b32eaab24bbbc413b78d2fa39cb5d9fe1ec4e12df91259d58cf2f81c2292c430129718b741dce7277448a14d0b5fc9312868954adcf7b4aeb4b7c5eff73a3adda3d95fd2cce74fbb0545ff7fc9f2d7574633695e579d168b6d3c38050619ccf3714b0ad7680dbca002a4c1e2f39f59e59de4d131c0a349ed2c472e4d9afaddc568ac717d258fccccc288b5ed9ac53e4fde70bc743e0b3b01f07df1bf0aa7d104bbc7468cab2d3a2f89c79cdfd0b276a52751b41b29ef2af61b8d86a07d7f883eb95613a1b4f495a129559feb0d8dceda105b37b08ca9638bf474d812834dc20f2544a28081d701c5d5ede728bf358d60a043cea1ea6bf0a1fe2217362adda0763a945f645b0124257bc2a86b38bd397f8763906faf4224a60d56783c1bdcc73502609643f088f22d9066a2155332631e90b2c3d1ac14b789c82c27407dba162f08b5b8f2b349ba3daa37f0559419c1bbffde0c4a8c36ddcbd71169632aa7e1617ab98cc5255384ad51d910c91114db2c6f1b6cf1328712a5c0ef848a2d3b53e447c6a59310b14560952e02f1b7d5611722f661e9145f7ab4e3ce9661fc34d050a01b2dc4a0b028558ce9be02cf205d5021999a33337456b536336d817745ebeb8ef5c2d250b8fc35dce1a4fa380efa20c8f6bd5b836733e40cca50a37902212f053a61544ab5cf1e933ec52e35ffd044784fc4f32e98fa5c8e67f6b8b49c202f85148326cf70f1fd3fc8f537e807bf1ca79b1b915014e9e9651f0093be9bc0f7e571c19504620fefcf3eeca04c6fbad0548b6ab1348dffdf59e00537cc50a34c16cfd1b853ad5a65ba7a5e646aa81ccd678e5dc14c208d4517ef5a61fa9c4a1f8288b46656dff30381925efb5490072c975b0ee9f3d135250ab4fbd0d7f1d3ba3480b93ee05fde993884602718419411d622762da1a38a72792971679694cfd123042980d60eff568bd1701f4f1909da84fa54893b5b9298f8e47bf95d47b0940520bda948956dbdfc11ad1eaa20518f116299bed185846b563cc9b67e9fc65b767f984eb7f72eef281daf8c20c1aca2452ed4f55064c0d94b291d79db8feaf25a470dc0c8a0b0c06354e898a38fbce1e01a817b56f11fb7b69db64239398454e31b81517c8bad0897c4accebf38d738a319ee3216a6a340c79447b57b67bc45ab2da505bc6368a23a6946b0a83c557eea21c24aab9627a35f590bfeaab32773bf4659e2277d4ba194c9c3d914fbf4120d274004d9c2a100e6b378be8d03066416845cf83c7a17104c125fd0e00e2e52e08eaeb9fc8c3b965ba615681df1c3f7df562d026dfaa861e57414ea44ec5b89776e2e28de2bfa6e74b85744b954ecaf1d76537a7ca84b66da36cafac3a85d64faa5ba65bd627155d68ebf756d86d887e7f7a43f78e9862b09e287a41dc21a78dcd634e9a7703a46e46765d1a50952e91e94b39c954d11cabb4a3860bad9f88eafa1c30c73ceb9de4b02ebb118c43e743fa5fa5221fc4536a72b3fc090e5be4df0c6d6a3fa7b9609fa416cc6ebf482b45910e8458a1133b255ab51203d35a141cafdac02d72f07dee1242e09612e64e534df0a687cc7d22c5f2d03fc43da79dc93e6b533574140eaad48794cc01de8671875d94afc120c32eaa7f4bdb10a7b0dd1e111dcccc0431ad2ce876cfa21eb4dbddd77275fedc04231fadbebbb3034193440b2f3c6eaaba4e5fed43e6517f258c279dfc5c29971355cec72b39f0a4a43db3a9cbefaaeac6964410e57a75997c79f6d5881694447cffa14d4d8fabfea05d4c00373f376f152a3682fe33125ea7a063ff1c543dd6896da304ac38fac4f7b4a2d168a08eadadd397b676db0fd03e9cab20bb4de23a83fbc2e24c1cbcc26fef9ea655c056f623e66cb031cbc981a509b093ea305c0e2dc19f15763505a39e01d32d1affb1df4f1db405e3b63ba14d074426fa49e0495d84d476d713f899eefea54b25edeee84f68f1af8b9753de31794c42065dfa30ceac7efadd50e60c68630637258e29f79ce58afff5614c5afaf4da4f2b8e58ef925db534d305f40008bfc3f38640219ae144fe1a0d4b0887cdd2f07a53a0dc4838c4209a2e31e98f114cbc7d89de1839f78b68ab3acf680a3ba2e23dc95d9e29a2aeb828afc129fdc7047eb8d12ff9e21df16ec8f1078a21d62106b0955ba45aecc7b7f4d28e930ea5db542d5c789430a68509ab5be7f08ad2606b7512fa8d2465a487827f71b4caf129e9795258047d738301f9459639dab5dd30e98dee523101b62b1e29078042b9ab07c4f4cb4a20e9727caea0c75936163a553806c1a6826a7c28e1ee920dcd2a87e2bc7e7b1927c40356c6a89be5150d143206c21fd7efb95a39b6bdca5447eba40fcd0290a8fb49cf3074f36038cd9cd2cb2c72b05aae8ee6cc483e7b94286e3d97332c5d9a6e087147a4ce4a9e7fac948665bf3bc06b9628a1293c13bed310a8bcef0b5a02537a2622c8a6a4954eb29d3a965ebd8ab3586dafc8d0ea56664a7945d13c40dc575dc52f2aa154e094ee2bcfa572f34d2033ec41bb5ba95ea12b202b679649badbe30613deb638c15f3f31fd89814d6453c87db5f87b201dcfb4ccd54a553f43d5f0e95b03a819cba413b59cccf8dee3233c512530a504e232e1462ce25dba0cb3bbb18c06bc5bae5090e0bc6344d4a8c8d3e352fbaded406f75269085130aa8fb44a6ec31d2b9008454216da8a858b4265126a93d1dea4407221484633eb8b0a7f9c16e6a963a1d04f555f387be92a93f342a8543a24c08ba22476d59e8f2fbf748f9a93e2c2ea3b4fc48e575ce66fe79b0eefec52c340e7d24d4fde1b8d9a8592aec7bc2eb86ecf06b2e0fd485410122d0a6b1d04f56759b79123f51dc433eecaac9c78d6370a83a5f7e6211caee3e87b0f454a65641e24714f4ec15c4c63f8f0a148a8cfab862eb6b5caa6c0b98505d43cdd7cccfea397ba93e87b506b59c7bd2ba11af78ae61c50b1a6de6c25b8b7ccaf9589f96fa0db0e0855fe01ee38d7688c85b5275edc35734c18d01c0fbf31cbfde03ba23ce61f5bb8328a6cce3229a9426ede50999d9674da4cd0828c8a2b3ce881d7b4dc6db78327c9fa4e0c0d2005b681d13ac7776c34e55be2421096eab0fda3eee2c1f21c298831dfe4541702f63b82ed39ed218cd66e11ec340b8bd18daa459747e1acc890ffdb7dee0cd38fc878e30b8edc178e9d6c6b3e7f2d8bcec850835bc5bddd09b6435757ecfa5317cac871643938707aa4afc05ef3ed0ddc664823761ec7f290a783e508f8b05451cc657e885f81399327343ce0e52e2a72a528a97023626b084902de2bd61178f92b54a5841b8b2c1341ffbde6855ce57dd77a1faa0beae209a5556fc85ae7f4e4331b89b300e359903dec5c5f16e4cf76b4bb6e3853269243260d8ad71f790665d9b7751a37822693d9bf54c767f7e29c30f503f89c61252476cbaa985816b2e794746465369741659bed4bcd9a4aa45e1866fed0ee67c7fe6a2c296ece1f4d7a51b3bcc304e87502c54b1939a42f5ee1d6fda91881b62528b8c622f64efd2bbc1743c3e1fee20221bd8f45da4e1d142e3b922bc419f590e78e477a8d46aa4087b72314b94be264bd00d08d518ac78c461668f024fcd818112843860e6ef2b9fc14f4930906a14bbc78b583637a93ca3a76fbc896f92cac54cb2694cb511e01d92b11abe2a30ec82ebcbd1c453584fb311246eceeaa4e37c36547caf499d42196851cf70f8ff0a6b09ba69c7cc47afc9d9c7e599af0a808eb6822a50ecf5466a17a275d4984120c65a0023861e4186b0f12ac7f63d0238c344a6cbeba48a48795956e26a04d5e4ff4052a41c50e04f95ee046126f4a176dbd6914d9f0ba5a60ce068b17b795079312f1bb41b1c9bf810868c36ac0903b5041e43a4f4dc556355a66f6c6a94f49faf9c04a8eba86448190036116c0285f749a4f2a202fccda07bb4e3def87b27cc6b8b541f67f987bb3207d7ef91ede861f9a784a950703d8b60f91163cd5b3012ad6c142360a94f231579d7df740a465296403b66f82d07d6a6be8c26e43ebe596db04fc1ecc2ed89eebade87922f9e792c7fcea0710eaaa0e936a675f460b05396d5ce58cb2d235052ccfe8d2ed7b716e539e9181949bb92eda42e24bffad8a1f468d642eff8a761814e4f0c782d5039471a9de6de5e77730108f34e7841f34471c5418c3161b49b2830c6ac6c81da8a17b550e26a66534b7f2ffe11c1a092606233ef02418edafd5ba47b388fdb997e2b9b9d86d6623a33e37fc97cc6c0724351d5cea1cd80832b242ddf04591ba50d901402e0eb6d3e90d0638c8cf3008db30b5d68634fa5f0cdbe24fad1d58fa44354c6c20680bffd56efb7f6f2122c2dd2508e06a9e01bae220358b5cd4b0372b6da4e6948c75461a209754827e8ca27bf315db7c2736198ff851c08e1fad8aeddde27298846e45dd6716b798063c9c05d574bf15bb8061687d0d84ad2bf5395ba988428c8d12881fdce0f8c5f3e9a6e18b4b7f88d1118586d84a07ac6dda378edef4a523829a870f9a44db2d61365c3628b5c236833b1256fb25bce386ea6249020e9889ee58f046d61bca212b1deec1b101201b138cbdbe1dce998b79c3a255f8cc51d59230eb2650345b7a4f9df1020565d7b0f142cba649725e0490620d54a2cd979b82cc4c32ca421b2325627281da04a5f90247ec789ce8f544fa49f31510e96d73bb949702fe4bc9ba38f258ffb8345abe80148de9e73e46cb9cb08e525a29942174684378326a90dbf9978da0cb96b582a8633884f3510f3f7c14770fe393ed900e0fdd0ae7f93b967531e3026b1e59ae784a1422408f9689dbd0983f73d6b7053faccaef408737fa3256dea7cd8f88e4c81a4510dea28f46b1adb921d3f5efce33dde3dfae8508462a34b30e0bce1192c6b1b219369f6e5b5ee90784240e0e578c8c2a992d 您好，这里需要密码。","link":"/2022/05/07/hexo%E5%8D%9A%E5%AE%A2%E5%86%99%E4%BD%9C/"},{"title":"STM 回流焊机使用","text":"19ca6ace21bd8565d7072de95867f9464a1aea507e9b21f2ccbfe0143325a45efb8fc7f1e53a35eae97c033204536dc82e68a44cd388ba207e6ef3a520aad8dfc095b75b63e4d0428523669f127484ae2474dfd565b51826f9926c88dae210fc6ae6f15cdfe1b3f38e6ea0e31aefdaa9362071030d67faf87670e0221fb6a8f3781c83103475b8d7aae3c08bcaef0cbcec70f72fc230bb38f5eef3ee691c5317e5bf880e589a866ed2418d86e3e1f64476e91d97af77815ecc1d8bb07d819233248c122a9e58740d85da21ff219e0f1ae85710337ac226b928102de14a12a26b55725f32a7479da95cdcef4b0f6c8e6700b54d0a79808f8225d2ef341ff45a150e2ff5e34b98dd298c1a521893799401e9694cfdfe01c6243989571e1ae6c66c89f842f9648ef427f1264c68fe4cb1cf835bac9cb1f83b51546b58cfe6d591569640a4022414825fd28be4385814730f3226296360213ff983a1566ead8e99d0964937dbaf222e86eeae5515405df39d11204d87e759c54d1198131417b6be08b591346a5db6bb7e259b179c875868ce091ec1db397b96060b7781414e2c4118e5d0853af31690a96d26ef4e1087ddbbfabbb1b1b1a9ce74641bfdcc7c0547466524e2cbbc5e6ee070112d48274edf60e08e5c846528092ba22efff47fb1eb62e692ad6ea212423b19c54c59992b197ed86702ff2faf15577c3a88117766ab670ab3c79ac9bc1a981cc70e26dc116a9edcff95c40476ee9245e08a795368a49589ad1f71a3e486d6c3c3dd91c39e1e3c0488be546445bc5c04c5d07beb0b48ef13e53ac2087d44d0d122c25314e2df924fafc5f42503bb21fbabf8bb6e01e9733bdfada881e393e633606eb093fc5c803313cf8781e9b56d776f00f1d96c42d7 您好，这里需要密码。","link":"/2022/05/07/SMT%E5%9B%9E%E6%B5%81%E7%84%8A%E6%9C%BA%E8%B4%B4%E7%89%87/"},{"title":"SD卡以及FATFS系统的使用","text":"19ca6ace21bd8565d7072de95867f9469c10be38736c3363b7650efdd5482d0a920c1fa0dd909e42858c081e76897ba9f69c8f98467373b36f92db36a8f0cfddabee8f1dde1668d5f942edc3a646c85efdba0dd68b12113bf82e3d10859244ffe4ba80244e5cb69c6bfeb3795c4045603f1a6e2a634735206c0a88274c0183c374ee7f2a42eb17af2fdba893018a0c9e8c1fb3c38717349d15bbff640773a0b906f30e06cb1d121c7c2755d4d3043fc179fba176199d903f940d50c9d15a466a2aca456462feb2090e40e80fe8bea8f3a6408d7c769678531bf7bb35cffe8d683c7a8c7ea74b3a203b3e57f0a052947ae36025a609d7ad71c6d3e24134a72bb68b0d925fab3f08393303a93d509dccd9884a2bb6a6b478bad94017d0ccbedc993586bb4bae625b64554ae20de14f085c9edb8fc30a1bc7160a0875b9799fa4c4c548fc6cd4fa8b558aed200a0ed37331ca2577b24b8ba4f2d3665e834d37871dc7e9612319c8eaa94d65eac075719b7995e03daea965c47a89bb104f91171a974f0bdf7c4d72b9ebb3bfa6c72894b0579770f77c877e79d8815552287d9a27c57461cbc9441d668820a350d9aab8182545e284a6c5f3821c6d5a5ce62d2e68ed9af4ce1075b3510090b9950f0cf442889fcf720ccf993356af1df38cb65347e8baaf815ad312077b820eb72da915da17b5f7d60af6872b5e3430ff8007562bbb045eea036b74080f5c6a26371812f5bb96c3d30314129bd830e93a62d78f5f8d1ca2546edf147ce47385f48a265536827bb9a72958e2a1ecda669ae4a307ec4614cd43d7fe38d1fcb85f854b9b417636ed54d6c87e0287efae3c179eb1818137951b5ff345807a792697fb2f5c263361d83c047ce2c663e4fe0ad6950bfdf3734f32b981e51328faf32488c0e8544be5d1cbceaa9e16487f8372951cb8d46142812363081fec62645257030a4f7c06a5055178bf6b24f16a37bf423bfb2cc1328d180967313f83250da1289923aa5b968ef09b572d0fe2078db063c5c487ca6a5fb63544113428d71e032a989edba1539bc5cd37921ad540959559770372206380da3bafd46fdd6173dd09ca60cea90d33e686b9102e8bace2a3a6fcf59a9fe1d2e075d8cef4ecdd08c8b235d562719f8b26b930fe05acc0e23832d9954f7ddaa266800569b9016ae4939b0c4a4f54d29538f61347112b742454ff288b8201ab302be1333de7ba318507f93290f912dddf2d07f4b0c962a28fe257623c6b45c24283e3d5cf387b4690b064aae41426658e0d1c0a1d41fd6e829335639c1e386e323c7cb96b62b819a58409e66b7ce4727234dbbfd18b3f6a1f454aeab0af33c794f2eec6b5b9c6bdef092886e3d48f6d25f78034df8d31dea95bd771982f4066227ea9fb39fda9d59cbb288f6c90dc8cc34848594bd8e7a21c48b7bee6ef97b20251cdff0ee54ee014e706c21fab94ffc246f7ecbb25dfe96311befb4e64d5d8e5c50a1e43460fe9114fa634272a39ae8c07430b513f9faa7c8a56737808fb4cbd5b86ad1eed4a55129dbe1a1e26386e4c3806b4821a30d688bf1d74c614885c1797b88d4c8c5374c50c19b003aec4ace938b9cb8693a33a04b50730a35be6084bfb491a36ee004238c3920bfb6c91edf5e50e94a53697267198da9bd423ec039918772d087f2d16b736f23cd0c0125a940feefdb74907dcf8a93ca78e070b6b5ea3e8e471a5e5d0341f23a1e3b82826176eff16d25e671764bd611e327e031c69c3f85d497d046e8ddbb9b062149d7dc1b0b9728154a6a382ffdf00a79025cedee5a7d15612f64d7233a09cab24f0a32ec1a4ce0b5f86374ce4aed03d850639f65b1bc2bd014c0ac7aca05eec87d219 您好，这里需要密码。","link":"/2022/05/10/SD%E5%8D%A1%E4%BB%A5%E5%8F%8Afatfs%E7%B3%BB%E7%BB%9F/"},{"title":"","text":"","link":"/2022/05/10/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"},{"title":"","text":"","link":"/2022/05/11/c%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E7%8A%B6%E6%80%81%E6%9C%BA/"},{"title":"stm32启动文件","text":"本文介绍STM32F407启动文件startup_stm32f40_41xxx.s文件信息，启动文件的作用为：初始化堆栈指针SP、CP指针（指向复位程序）、中断向量表，配置系统时钟，调用C库函数_main，最终进入main函数内部。 ###1、启动文件 STM32启动文件：startup_stm32f40_41xxx.s 功能作用：初始化SP指针、初始化PC指针（复位处理）、ISR地址(中断向量表) 配置系统时钟和外部SRAM作为数据存储、__main C库调用main()函数 之后，在线程模式下重置Cortex m4处理器，优先级，堆设置main. wizard向导 针对用户需求裁剪栈stack数值， 备注：栈stack是一块程序运行时用来存储临时变量的内存RAM空间。栈一般静态分配，并且后进先出，栈的生命周期从程序的起始直到程序结束。一个函数返回，其用到的栈空间就被释放给后续函数使用。 特别注意：一个函数中定义的所有局部变量，加起来不能大于工程的栈大小，否则程序肯定会出现内存溢出，导致复位。 启动文件的栈应该修改为Stack_Size EQU 0x00001000 ，此时栈是4096字节。 1、stack 栈 用于存放局部变量、函数调用、函数形参的空间开销。 12345678910111213; Amount of memory (in bytes) allocated for Stack; Tailor this value to your application needs; &lt;h&gt; Stack Configuration; &lt;o&gt; Stack Size (in Bytes) &lt;0x0-0xFFFFFFFF:8&gt;; &lt;/h&gt;Stack_Size EQU 0x00000400;开辟栈空间，大小为1024字节 AREA STACK, NOINIT, READWRITE, ALIGN=3;分配一段内存空间（STACK），不初始化，可读可写，八字节对齐Stack_Mem SPACE Stack_Size__initial_sp 标号__initial_sp 紧挨着 SPACE，语句放置，表示栈的结束地址，即栈顶地址，栈是由高向低生长的。栈地址是高地址往低地址使用的。内存地址分配由低地址向高地址分配。 2、heap–堆 堆用于动态内存的分配，内存空间来自SRAM，malloc函数的使用 1234567891011121314; &lt;h&gt; Heap Configuration; &lt;o&gt; Heap Size (in Bytes) &lt;0x0-0xFFFFFFFF:8&gt;; &lt;/h&gt;Heap_Size EQU 0x00000200 ;开辟堆空间，大小512K AREA HEAP, NOINIT, READWRITE, ALIGN=3;分配一段内存空间（HEAP），不初始化，可读可写，八字节对齐__heap_baseHeap_Mem SPACE Heap_Size__heap_limit PRESERVE8 THUMB __heap_limit指向堆的顶端， 注：PRESERVE8： 指定当前文件的堆栈按照 8 字节对齐、THUMB： 表示后面指令为 THUMB 指令。 THUBM 是 ARM 以前的指令集， 16bit，现在 Cortex-M 系列的都使用 THUMB-2 指令集， THUMB-2 是 32 位的，兼容 16 位和 32 位的指令，是 THUMB 的超集。 3、中断向量表初始化 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119; Vector Table Mapped to Address 0 at Reset AREA RESET, DATA, READONLY;分配数据段（RESET），只读 EXPORT __Vectors;声明向量表的起始地址名，可被外部文件调用 EXPORT __Vectors_End;声明向量表的结束地址名，可被外部文件调用 EXPORT __Vectors_Size;声明向量表的大小名，可被外部文件调用 __Vectors DCD __initial_sp ; Top of Stack;内核中断服务函数 DCD Reset_Handler ; Reset Handler DCD NMI_Handler ; NMI Handler DCD HardFault_Handler ; Hard Fault Handler DCD MemManage_Handler ; MPU Fault Handler DCD BusFault_Handler ; Bus Fault Handler DCD UsageFault_Handler ; Usage Fault Handler DCD 0 ; Reserved DCD 0 ; Reserved DCD 0 ; Reserved DCD 0 ; Reserved DCD SVC_Handler ; SVCall Handler DCD DebugMon_Handler ; Debug Monitor Handler DCD 0 ; Reserved DCD PendSV_Handler ; PendSV Handler DCD SysTick_Handler ; SysTick Handler;外部中断函数 ; External Interrupts DCD WWDG_IRQHandler ; Window WatchDog DCD PVD_IRQHandler ; PVD through EXTI Line detection DCD TAMP_STAMP_IRQHandler ; Tamper and TimeStamps through the EXTI line DCD RTC_WKUP_IRQHandler ; RTC Wakeup through the EXTI line DCD FLASH_IRQHandler ; FLASH DCD RCC_IRQHandler ; RCC DCD EXTI0_IRQHandler ; EXTI Line0 DCD EXTI1_IRQHandler ; EXTI Line1 DCD EXTI2_IRQHandler ; EXTI Line2 DCD EXTI3_IRQHandler ; EXTI Line3 DCD EXTI4_IRQHandler ; EXTI Line4 DCD DMA1_Stream0_IRQHandler ; DMA1 Stream 0 DCD DMA1_Stream1_IRQHandler ; DMA1 Stream 1 DCD DMA1_Stream2_IRQHandler ; DMA1 Stream 2 DCD DMA1_Stream3_IRQHandler ; DMA1 Stream 3 DCD DMA1_Stream4_IRQHandler ; DMA1 Stream 4 DCD DMA1_Stream5_IRQHandler ; DMA1 Stream 5 DCD DMA1_Stream6_IRQHandler ; DMA1 Stream 6 DCD ADC_IRQHandler ; ADC1, ADC2 and ADC3s DCD CAN1_TX_IRQHandler ; CAN1 TX DCD CAN1_RX0_IRQHandler ; CAN1 RX0 DCD CAN1_RX1_IRQHandler ; CAN1 RX1 DCD CAN1_SCE_IRQHandler ; CAN1 SCE DCD EXTI9_5_IRQHandler ; External Line[9:5]s DCD TIM1_BRK_TIM9_IRQHandler ; TIM1 Break and TIM9 DCD TIM1_UP_TIM10_IRQHandler ; TIM1 Update and TIM10 DCD TIM1_TRG_COM_TIM11_IRQHandler ; TIM1 Trigger and Commutation and TIM11 DCD TIM1_CC_IRQHandler ; TIM1 Capture Compare DCD TIM2_IRQHandler ; TIM2 DCD TIM3_IRQHandler ; TIM3 DCD TIM4_IRQHandler ; TIM4 DCD I2C1_EV_IRQHandler ; I2C1 Event DCD I2C1_ER_IRQHandler ; I2C1 Error DCD I2C2_EV_IRQHandler ; I2C2 Event DCD I2C2_ER_IRQHandler ; I2C2 Error DCD SPI1_IRQHandler ; SPI1 DCD SPI2_IRQHandler ; SPI2 DCD USART1_IRQHandler ; USART1 DCD USART2_IRQHandler ; USART2 DCD USART3_IRQHandler ; USART3 DCD EXTI15_10_IRQHandler ; External Line[15:10]s DCD RTC_Alarm_IRQHandler ; RTC Alarm (A and B) through EXTI Line DCD OTG_FS_WKUP_IRQHandler ; USB OTG FS Wakeup through EXTI line DCD TIM8_BRK_TIM12_IRQHandler ; TIM8 Break and TIM12 DCD TIM8_UP_TIM13_IRQHandler ; TIM8 Update and TIM13 DCD TIM8_TRG_COM_TIM14_IRQHandler ; TIM8 Trigger and Commutation and TIM14 DCD TIM8_CC_IRQHandler ; TIM8 Capture Compare DCD DMA1_Stream7_IRQHandler ; DMA1 Stream7 DCD FSMC_IRQHandler ; FSMC DCD SDIO_IRQHandler ; SDIO DCD TIM5_IRQHandler ; TIM5 DCD SPI3_IRQHandler ; SPI3 DCD UART4_IRQHandler ; UART4 DCD UART5_IRQHandler ; UART5 DCD TIM6_DAC_IRQHandler ; TIM6 and DAC1&amp;2 underrun errors DCD TIM7_IRQHandler ; TIM7 DCD DMA2_Stream0_IRQHandler ; DMA2 Stream 0 DCD DMA2_Stream1_IRQHandler ; DMA2 Stream 1 DCD DMA2_Stream2_IRQHandler ; DMA2 Stream 2 DCD DMA2_Stream3_IRQHandler ; DMA2 Stream 3 DCD DMA2_Stream4_IRQHandler ; DMA2 Stream 4 DCD ETH_IRQHandler ; Ethernet DCD ETH_WKUP_IRQHandler ; Ethernet Wakeup through EXTI line DCD CAN2_TX_IRQHandler ; CAN2 TX DCD CAN2_RX0_IRQHandler ; CAN2 RX0 DCD CAN2_RX1_IRQHandler ; CAN2 RX1 DCD CAN2_SCE_IRQHandler ; CAN2 SCE DCD OTG_FS_IRQHandler ; USB OTG FS DCD DMA2_Stream5_IRQHandler ; DMA2 Stream 5 DCD DMA2_Stream6_IRQHandler ; DMA2 Stream 6 DCD DMA2_Stream7_IRQHandler ; DMA2 Stream 7 DCD USART6_IRQHandler ; USART6 DCD I2C3_EV_IRQHandler ; I2C3 event DCD I2C3_ER_IRQHandler ; I2C3 error DCD OTG_HS_EP1_OUT_IRQHandler ; USB OTG HS End Point 1 Out DCD OTG_HS_EP1_IN_IRQHandler ; USB OTG HS End Point 1 In DCD OTG_HS_WKUP_IRQHandler ; USB OTG HS Wakeup through EXTI DCD OTG_HS_IRQHandler ; USB OTG HS DCD DCMI_IRQHandler ; DCMI DCD CRYP_IRQHandler ; CRYP crypto DCD HASH_RNG_IRQHandler ; Hash and Rng DCD FPU_IRQHandler ; FPU __Vectors_End__Vectors_Size EQU __Vectors_End - __Vectors AREA |.text|, CODE, READONLY;创建只读代码文件 注释： EXPORT： 声明一个标号具有全局属性，可被外部的文件使用。如果是IAR编译器，则使用的是GLOBAL这个指令。 DCD：分配一个或者多个以字为单位的内存，以四字节对齐，并要求初始化这些内存。在向量表中，DCD分配了一堆内存，并且以ESR的入口地址初始化它们。 向量表实际上是一个32位的整型数组，一个元素对应一个异常（ESR），数组元素存的就是ESR的入口地址。 向量表在复位后从FLASH的0地址开始，具体的初始化值请查询参考手册的中断章节。 3、复位程序 Reset_Handler复位程序是上电后单片机执行的第一个程序， 调用SystemInit函数配置系统时钟；调用C库函数_main，并最终进入C的世界 123456789101112131415161718; Reset handlerReset_Handler PROC EXPORT Reset_Handler [WEAK] IMPORT SystemInit ;SystemInit来自于system_stm32f4xx.c定义的系统初始化函数，该函数主要实现系统时钟的初始化操作 IMPORT __main ;来自C库文件 LDR R0, =SystemInit ;作为伪指令，将函数SystemInit入口地址加载到R0寄存器中， BLX R0 ;跳转到由R0寄存器给出的地址，并根据寄存器的LSE确定处理器的状态，还要把跳转前的下条指令地址保存LR LDR R0, =__main ；__main两个作用，①初始化变量（局部变量、全局变量，都是由C库完成的，调用C main 函数） BX R0 ENDP ；子程序执行完毕 WEAK：表示弱定义，如果外部文件优先定义了该标号则首先引用该标号，如果外部文件没有声明也不会出错。这里表示复位子程序可以由用户在其他文件重新实现，这里并不是唯一的。IMPORT：表示该标号来自外部文件，跟C语言中的EXTERN关键字类似。这里表示SystemInit 和__main这两个函数均来自外部的文件。 4、中断服务程序 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218; Dummy Exception Handlers (infinite loops which can be modified)NMI_Handler PROC EXPORT NMI_Handler [WEAK] B . ENDPHardFault_Handler\\ PROC EXPORT HardFault_Handler [WEAK] B . ENDPMemManage_Handler\\ PROC EXPORT MemManage_Handler [WEAK] B . ENDPBusFault_Handler\\ PROC EXPORT BusFault_Handler [WEAK] B . ENDPUsageFault_Handler\\ PROC EXPORT UsageFault_Handler [WEAK] B . ENDPSVC_Handler PROC EXPORT SVC_Handler [WEAK] B . ENDPDebugMon_Handler\\ PROC EXPORT DebugMon_Handler [WEAK] B . ENDPPendSV_Handler PROC EXPORT PendSV_Handler [WEAK] B . ENDPSysTick_Handler PROC EXPORT SysTick_Handler [WEAK] B . ENDPDefault_Handler PROC EXPORT WWDG_IRQHandler [WEAK] EXPORT PVD_IRQHandler [WEAK] EXPORT TAMP_STAMP_IRQHandler [WEAK] EXPORT RTC_WKUP_IRQHandler [WEAK] EXPORT FLASH_IRQHandler [WEAK] EXPORT RCC_IRQHandler [WEAK] EXPORT EXTI0_IRQHandler [WEAK] EXPORT EXTI1_IRQHandler [WEAK] EXPORT EXTI2_IRQHandler [WEAK] EXPORT EXTI3_IRQHandler [WEAK] EXPORT EXTI4_IRQHandler [WEAK] EXPORT DMA1_Stream0_IRQHandler [WEAK] EXPORT DMA1_Stream1_IRQHandler [WEAK] EXPORT DMA1_Stream2_IRQHandler [WEAK] EXPORT DMA1_Stream3_IRQHandler [WEAK] EXPORT DMA1_Stream4_IRQHandler [WEAK] EXPORT DMA1_Stream5_IRQHandler [WEAK] EXPORT DMA1_Stream6_IRQHandler [WEAK] EXPORT ADC_IRQHandler [WEAK] EXPORT CAN1_TX_IRQHandler [WEAK] EXPORT CAN1_RX0_IRQHandler [WEAK] EXPORT CAN1_RX1_IRQHandler [WEAK] EXPORT CAN1_SCE_IRQHandler [WEAK] EXPORT EXTI9_5_IRQHandler [WEAK] EXPORT TIM1_BRK_TIM9_IRQHandler [WEAK] EXPORT TIM1_UP_TIM10_IRQHandler [WEAK] EXPORT TIM1_TRG_COM_TIM11_IRQHandler [WEAK] EXPORT TIM1_CC_IRQHandler [WEAK] EXPORT TIM2_IRQHandler [WEAK] EXPORT TIM3_IRQHandler [WEAK] EXPORT TIM4_IRQHandler [WEAK] EXPORT I2C1_EV_IRQHandler [WEAK] EXPORT I2C1_ER_IRQHandler [WEAK] EXPORT I2C2_EV_IRQHandler [WEAK] EXPORT I2C2_ER_IRQHandler [WEAK] EXPORT SPI1_IRQHandler [WEAK] EXPORT SPI2_IRQHandler [WEAK] EXPORT USART1_IRQHandler [WEAK] EXPORT USART2_IRQHandler [WEAK] EXPORT USART3_IRQHandler [WEAK] EXPORT EXTI15_10_IRQHandler [WEAK] EXPORT RTC_Alarm_IRQHandler [WEAK] EXPORT OTG_FS_WKUP_IRQHandler [WEAK] EXPORT TIM8_BRK_TIM12_IRQHandler [WEAK] EXPORT TIM8_UP_TIM13_IRQHandler [WEAK] EXPORT TIM8_TRG_COM_TIM14_IRQHandler [WEAK] EXPORT TIM8_CC_IRQHandler [WEAK] EXPORT DMA1_Stream7_IRQHandler [WEAK] EXPORT FSMC_IRQHandler [WEAK] EXPORT SDIO_IRQHandler [WEAK] EXPORT TIM5_IRQHandler [WEAK] EXPORT SPI3_IRQHandler [WEAK] EXPORT UART4_IRQHandler [WEAK] EXPORT UART5_IRQHandler [WEAK] EXPORT TIM6_DAC_IRQHandler [WEAK] EXPORT TIM7_IRQHandler [WEAK] EXPORT DMA2_Stream0_IRQHandler [WEAK] EXPORT DMA2_Stream1_IRQHandler [WEAK] EXPORT DMA2_Stream2_IRQHandler [WEAK] EXPORT DMA2_Stream3_IRQHandler [WEAK] EXPORT DMA2_Stream4_IRQHandler [WEAK] EXPORT ETH_IRQHandler [WEAK] EXPORT ETH_WKUP_IRQHandler [WEAK] EXPORT CAN2_TX_IRQHandler [WEAK] EXPORT CAN2_RX0_IRQHandler [WEAK] EXPORT CAN2_RX1_IRQHandler [WEAK] EXPORT CAN2_SCE_IRQHandler [WEAK] EXPORT OTG_FS_IRQHandler [WEAK] EXPORT DMA2_Stream5_IRQHandler [WEAK] EXPORT DMA2_Stream6_IRQHandler [WEAK] EXPORT DMA2_Stream7_IRQHandler [WEAK] EXPORT USART6_IRQHandler [WEAK] EXPORT I2C3_EV_IRQHandler [WEAK] EXPORT I2C3_ER_IRQHandler [WEAK] EXPORT OTG_HS_EP1_OUT_IRQHandler [WEAK] EXPORT OTG_HS_EP1_IN_IRQHandler [WEAK] EXPORT OTG_HS_WKUP_IRQHandler [WEAK] EXPORT OTG_HS_IRQHandler [WEAK] EXPORT DCMI_IRQHandler [WEAK] EXPORT CRYP_IRQHandler [WEAK] EXPORT HASH_RNG_IRQHandler [WEAK] EXPORT FPU_IRQHandler [WEAK]WWDG_IRQHandler PVD_IRQHandler TAMP_STAMP_IRQHandler RTC_WKUP_IRQHandler FLASH_IRQHandler RCC_IRQHandler EXTI0_IRQHandler EXTI1_IRQHandler EXTI2_IRQHandler EXTI3_IRQHandler EXTI4_IRQHandler DMA1_Stream0_IRQHandler DMA1_Stream1_IRQHandler DMA1_Stream2_IRQHandler DMA1_Stream3_IRQHandler DMA1_Stream4_IRQHandler DMA1_Stream5_IRQHandler DMA1_Stream6_IRQHandler ADC_IRQHandler CAN1_TX_IRQHandler CAN1_RX0_IRQHandler CAN1_RX1_IRQHandler CAN1_SCE_IRQHandler EXTI9_5_IRQHandler TIM1_BRK_TIM9_IRQHandler TIM1_UP_TIM10_IRQHandler TIM1_TRG_COM_TIM11_IRQHandler TIM1_CC_IRQHandler TIM2_IRQHandler TIM3_IRQHandler TIM4_IRQHandler I2C1_EV_IRQHandler I2C1_ER_IRQHandler I2C2_EV_IRQHandler I2C2_ER_IRQHandler SPI1_IRQHandler SPI2_IRQHandler USART1_IRQHandler USART2_IRQHandler USART3_IRQHandler EXTI15_10_IRQHandler RTC_Alarm_IRQHandler OTG_FS_WKUP_IRQHandler TIM8_BRK_TIM12_IRQHandler TIM8_UP_TIM13_IRQHandler TIM8_TRG_COM_TIM14_IRQHandler TIM8_CC_IRQHandler DMA1_Stream7_IRQHandler FSMC_IRQHandler SDIO_IRQHandler TIM5_IRQHandler SPI3_IRQHandler UART4_IRQHandler UART5_IRQHandler TIM6_DAC_IRQHandler TIM7_IRQHandler DMA2_Stream0_IRQHandler DMA2_Stream1_IRQHandler DMA2_Stream2_IRQHandler DMA2_Stream3_IRQHandler DMA2_Stream4_IRQHandler ETH_IRQHandler ETH_WKUP_IRQHandler CAN2_TX_IRQHandler CAN2_RX0_IRQHandler CAN2_RX1_IRQHandler CAN2_SCE_IRQHandler OTG_FS_IRQHandler DMA2_Stream5_IRQHandler DMA2_Stream6_IRQHandler DMA2_Stream7_IRQHandler USART6_IRQHandler I2C3_EV_IRQHandler I2C3_ER_IRQHandler OTG_HS_EP1_OUT_IRQHandler OTG_HS_EP1_IN_IRQHandler OTG_HS_WKUP_IRQHandler OTG_HS_IRQHandler DCMI_IRQHandler CRYP_IRQHandler HASH_RNG_IRQHandlerFPU_IRQHandler B . ENDP ALIGN 5、用户堆、栈初始化 12345678910111213141516171819202122232425262728;*******************************************************************************; User Stack and Heap initialization;******************************************************************************* IF :DEF:__MICROLIB EXPORT __initial_sp EXPORT __heap_base EXPORT __heap_limit ELSE IMPORT __use_two_region_memory EXPORT __user_initial_stackheap __user_initial_stackheap LDR R0, = Heap_Mem LDR R1, =(Stack_Mem + Stack_Size) LDR R2, = (Heap_Mem + Heap_Size) LDR R3, = Stack_Mem BX LR ALIGN ENDIF END 注意：程序代码空间的利用情况。 Program Size: Code=15280 RO-data=284 RW-data=980 ZI-data=15964 Code为程序代码部分RO-data 表示 程序定义的常量const temp;RW-data 表示 已初始化的全局变量ZI-data 表示 未初始化的全局变量 Code, RO-data,RW-data …flashRW-data, ZIdata…RAM 使用是CPU是STM32F103C8，FLASH有64kBytes，RAM有20kBytes。 1234Total RO Size (Code + RO Data) 15564 ( 15.20kB)Total RW Size (RW Data + ZI Data) 16944 ( 16.55kB)Total ROM Size (Code + RO Data + RW Data) 16384 ( 16.00kB) 工程代码使用的FLASH和ARM均小于CPU的额定大小，正常。 $$x=y$$","link":"/2022/05/07/%E5%90%AF%E5%8A%A8%E6%96%87%E4%BB%B6/"}],"tags":[{"name":"嵌入式","slug":"嵌入式","link":"/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/"},{"name":"STM32","slug":"STM32","link":"/tags/STM32/"},{"name":"加密文章","slug":"加密文章","link":"/tags/%E5%8A%A0%E5%AF%86%E6%96%87%E7%AB%A0/"}],"categories":[{"name":"hexo博客写作","slug":"hexo博客写作","link":"/categories/hexo%E5%8D%9A%E5%AE%A2%E5%86%99%E4%BD%9C/"},{"name":"typora写作","slug":"hexo博客写作/typora写作","link":"/categories/hexo%E5%8D%9A%E5%AE%A2%E5%86%99%E4%BD%9C/typora%E5%86%99%E4%BD%9C/"},{"name":"STM32F1","slug":"STM32F1","link":"/categories/STM32F1/"},{"name":"汇编、C语言","slug":"STM32F1/汇编、C语言","link":"/categories/STM32F1/%E6%B1%87%E7%BC%96%E3%80%81C%E8%AF%AD%E8%A8%80/"},{"name":"回流焊","slug":"回流焊","link":"/categories/%E5%9B%9E%E6%B5%81%E7%84%8A/"},{"name":"SMT贴片","slug":"回流焊/SMT贴片","link":"/categories/%E5%9B%9E%E6%B5%81%E7%84%8A/SMT%E8%B4%B4%E7%89%87/"},{"name":"SD\\SDIO\\FATFS","slug":"SD-SDIO-FATFS","link":"/categories/SD-SDIO-FATFS/"},{"name":"fatfs","slug":"SD-SDIO-FATFS/fatfs","link":"/categories/SD-SDIO-FATFS/fatfs/"}]}