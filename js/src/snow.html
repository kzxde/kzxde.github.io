<p>var THREE&#x3D;THREE||{};if(!self.Int32Array)self.Int32Array&#x3D;Array,self.Float32Array&#x3D;Array;THREE.Color&#x3D;function(a){a!&#x3D;&#x3D;void 0&amp;&amp;this.setHex(a);return this};THREE.Color.prototype&#x3D;{constructor:THREE.Color,r:1,g:1,b:1,copy:function(a){this.r&#x3D;a.r;this.g&#x3D;a.g;this.b&#x3D;a.b;return this},copyGammaToLinear:function(a){this.r&#x3D;a.r<em>a.r;this.g&#x3D;a.g</em>a.g;this.b&#x3D;a.b<em>a.b;return this},copyLinearToGamma:function(a){this.r&#x3D;Math.sqrt(a.r);this.g&#x3D;Math.sqrt(a.g);this.b&#x3D;Math.sqrt(a.b);return this},setRGB:function(a,b,c){this.r&#x3D;a;this.g&#x3D;b;this.b&#x3D;c;return this},setHSV:function(a,b,c){var d,f,e;if(c&#x3D;&#x3D;&#x3D;0)this.r&#x3D;this.g&#x3D;this.b&#x3D;0;else switch(d&#x3D;Math.floor(a</em>6),f&#x3D;a<em>6-d,a&#x3D;c</em>(1-b),e&#x3D;c*(1-b<em>f),b&#x3D;c</em>(1-b*(1-f)),d){case 1:this.r&#x3D;e;this.g&#x3D;c;this.b&#x3D;a;break;case 2:this.r&#x3D;a;this.g&#x3D;c;this.b&#x3D;b;break;case 3:this.r&#x3D;a;this.g&#x3D;e;this.b&#x3D;c;break;case 4:this.r&#x3D;b;this.g&#x3D;a;this.b&#x3D;c;break;case 5:this.r&#x3D;c;this.g&#x3D;a;this.b&#x3D;e;break;case 6:case 0:this.r&#x3D;c,this.g&#x3D;b,this.b&#x3D;a}return this},setHex:function(a){a&#x3D;Math.floor(a);this.r&#x3D;(a&gt;&gt;16&amp;255)&#x2F;255;this.g&#x3D;(a&gt;&gt;8&amp;255)&#x2F;255;this.b&#x3D;(a&amp;255)&#x2F;255;return this},getHex:function(){return<del>(this.r*255)&lt;&lt;16^</del>(this.g<em>255)&lt;&lt;8^~~(this.b*255)},getContextStyle:function(){return”rgb(“+Math.floor(this.r*255)+”,”+Math.floor(this.g*255)+”,”+Math.floor(this.b*255)+”)”},clone:function(){return(new THREE.Color).setRGB(this.r,this.g,this.b)}};THREE.Vector2&#x3D;function(a,b){this.x&#x3D;a||0;this.y&#x3D;b||0};THREE.Vector2.prototype&#x3D;{constructor:THREE.Vector2,set:function(a,b){this.x&#x3D;a;this.y&#x3D;b;return this},copy:function(a){this.x&#x3D;a.x;this.y&#x3D;a.y;return this},clone:function(){return new THREE.Vector2(this.x,this.y)},add:function(a,b){this.x&#x3D;a.x+b.x;this.y&#x3D;a.y+b.y;return this},addSelf:function(a){this.x+&#x3D;a.x;this.y+&#x3D;a.y;return this},sub:function(a,b){this.x&#x3D;a.x-b.x;this.y&#x3D;a.y-b.y;return this},subSelf:function(a){this.x-&#x3D;a.x;this.y-&#x3D;a.y;return this},multiplyScalar:function(a){this.x*&#x3D;a;this.y*&#x3D;a;return this},divideScalar:function(a){a?(this.x&#x2F;&#x3D; a, this.y &#x2F;&#x3D;a):this.set(0,0);return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b&#x3D;this.x-a.x,a&#x3D;this.y-a.y;return b*b+a*a},setLength:function(a){return this.normalize().multiplyScalar(a)},equals:function(a){return a.x&#x3D;&#x3D;&#x3D;this.x&amp;&amp;a.y&#x3D;&#x3D;&#x3D;this.y}};THREE.Vector3&#x3D;function(a,b,c){this.x&#x3D;a||0;this.y&#x3D;b||0;this.z&#x3D;c||0};THREE.Vector3.prototype&#x3D;{constructor:THREE.Vector3,set:function(a,b,c){this.x&#x3D;a;this.y&#x3D;b;this.z&#x3D;c;return this},setX:function(a){this.x&#x3D;a;return this},setY:function(a){this.y&#x3D;a;return this},setZ:function(a){this.z&#x3D;a;return this},copy:function(a){this.x&#x3D;a.x;this.y&#x3D;a.y;this.z&#x3D;a.z;return this},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)},add:function(a,b){this.x&#x3D;a.x+b.x;this.y&#x3D;a.y+b.y;this.z&#x3D;a.z+b.z;return this},addSelf:function(a){this.x+&#x3D;a.x;this.y+&#x3D;a.y;this.z+&#x3D;a.z;return this},addScalar:function(a){this.x+&#x3D;a;this.y+&#x3D;a;this.z+&#x3D;a;return this},sub:function(a,b){this.x&#x3D;a.x-b.x;this.y&#x3D;a.y-b.y;this.z&#x3D;a.z-b.z;return this},subSelf:function(a){this.x-&#x3D;a.x;this.y-&#x3D;a.y;this.z-&#x3D;a.z;return this},multiply:function(a,b){this.x&#x3D;a.x*b.x;this.y&#x3D;a.y*b.y;this.z&#x3D;a.z*b.z;return this},multiplySelf:function(a){this.x*&#x3D;a.x;this.y*&#x3D;a.y;this.z*&#x3D;a.z;return this},multiplyScalar:function(a){this.x*&#x3D;a;this.y*&#x3D;a;this.z*&#x3D;a;return this},divideSelf:function(a){this.x&#x2F;&#x3D;a.x;this.y&#x2F;&#x3D;a.y;this.z&#x2F;&#x3D;a.z;return this},divideScalar:function(a){a?(this.x&#x2F;&#x3D; a, this.y &#x2F;&#x3D;a,this.z&#x2F;&#x3D;a):this.z&#x3D;this.y&#x3D;this.x&#x3D;0;return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.lengthSq())},lengthManhattan:function(){return this.x+this.y+this.z},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.normalize().multiplyScalar(a)},cross:function(a,b){this.x&#x3D;a.y*b.z-a.z*b.y;this.y&#x3D;a.z*b.x-a.x*b.z;this.z&#x3D;a.x*b.y-a.y*b.x;return this},crossSelf:function(a){var b&#x3D;this.x,c&#x3D;this.y,d&#x3D;this.z;this.x&#x3D;c*a.z-d*a.y;this.y&#x3D;d*a.x-b*a.z;this.z&#x3D;b*a.y-c*a.x;return this},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){return(new THREE.Vector3).sub(this,a).lengthSq()},setPositionFromMatrix:function(a){this.x&#x3D;a.n14;this.y&#x3D;a.n24;this.z&#x3D;a.n34},setRotationFromMatrix:function(a){var b&#x3D;Math.cos(this.y);this.y&#x3D;Math.asin(a.n13);Math.abs(b)&gt;1.0E-5?(this.x&#x3D;Math.atan2(-a.n23&#x2F; b, a.n33 &#x2F;b),this.z&#x3D;Math.atan2(-a.n12&#x2F; b, a.n11 &#x2F;b)):(this.x&#x3D;0,this.z&#x3D;Math.atan2(a.n21,a.n22))},isZero:function(){return this.lengthSq()&lt;1.0E-4}};THREE.Vector4&#x3D;function(a,b,c,d){this.x&#x3D;a||0;this.y&#x3D;b||0;this.z&#x3D;c||0;this.w&#x3D;d!&#x3D;&#x3D;void 0?d:1};THREE.Vector4.prototype&#x3D;{constructor:THREE.Vector4,set:function(a,b,c,d){this.x&#x3D;a;this.y&#x3D;b;this.z&#x3D;c;this.w&#x3D;d;return this},copy:function(a){this.x&#x3D;a.x;this.y&#x3D;a.y;this.z&#x3D;a.z;this.w&#x3D;a.w!&#x3D;&#x3D;void 0?a.w:1},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)},add:function(a,b){this.x&#x3D;a.x+b.x;this.y&#x3D;a.y+b.y;this.z&#x3D;a.z+b.z;this.w&#x3D;a.w+b.w;return this},addSelf:function(a){this.x+&#x3D;a.x;this.y+&#x3D;a.y;this.z+&#x3D;a.z;this.w+&#x3D;a.w;return this},sub:function(a,b){this.x&#x3D;a.x-b.x;this.y&#x3D;a.y-b.y;this.z&#x3D;a.z-b.z;this.w&#x3D;a.w-b.w;return this},subSelf:function(a){this.x-&#x3D;a.x;this.y-&#x3D;a.y;this.z-&#x3D;a.z;this.w-&#x3D;a.w;return this},multiplyScalar:function(a){this.x*&#x3D;a;this.y*&#x3D;a;this.z*&#x3D;a;this.w*&#x3D;a;return this},divideScalar:function(a){a?(this.x&#x2F;&#x3D; a, this.y &#x2F;&#x3D;a,this.z&#x2F;&#x3D; a, this.w &#x2F;&#x3D;a):(this.z&#x3D;this.y&#x3D;this.x&#x3D;0,this.w&#x3D;1);return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.dot(this)},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.normalize().multiplyScalar(a)},lerpSelf:function(a,b){this.x+&#x3D;(a.x-this.x)*b;this.y+&#x3D;(a.y-this.y)*b;this.z+&#x3D;(a.z-this.z)*b;this.w+&#x3D;(a.w-this.w)*b;return this}};THREE.Ray&#x3D;function(a,b){function c(a,b,c){i.sub(c,a);p&#x3D;i.dot(b);if(p&lt;&#x3D;0)return null;k&#x3D;n.add(a,o.copy(b).multiplyScalar(p));return s&#x3D;c.distanceTo(k)}function d(a,b,c,d){i.sub(d,b);n.sub(c,b);o.sub(a,b);K&#x3D;i.dot(i);C&#x3D;i.dot(n);Q&#x3D;i.dot(o);O&#x3D;n.dot(n);w&#x3D;n.dot(o);F&#x3D;1&#x2F;(K*O-C*C);z&#x3D;(O*Q-C*w)*F;D&#x3D;(K*w-C*Q)*F;return z&gt;&#x3D;0&amp;&amp;D&gt;&#x3D;0&amp;&amp;z+D&lt;1}this.origin&#x3D;a||new THREE.Vector3;this.direction&#x3D;b||new THREE.Vector3;this.intersectScene&#x3D;function(a){return this.intersectObjects(a.children)};this.intersectObjects&#x3D;function(a){var b,c,d&#x3D;[];b&#x3D;0;for(c&#x3D;a.length;b&lt;c;b++)Array.prototype.push.apply(d,this.intersectObject(a[b]));d.sort(function(a,b){return a.distance-b.distance});return d};var f&#x3D;new THREE.Vector3,e&#x3D;new THREE.Vector3,g&#x3D;new THREE.Vector3,h&#x3D;new THREE.Vector3,a&#x3D;new THREE.Vector3,b&#x3D;new THREE.Vector3,m&#x3D;new THREE.Vector3,l&#x3D;new THREE.Vector3,j&#x3D;new THREE.Vector3;this.intersectObject&#x3D;function(k){for(var i,o&#x3D;[],n&#x3D;0,W&#x3D;k.children.length;n&lt;W;n++)Array.prototype.push.apply(o,this.intersectObject(k.children[n]));if(k instanceof THREE.Particle){n&#x3D;c(this.origin,this.direction,k.matrixWorld.getPosition());if(n&#x3D;&#x3D;&#x3D;null||n&gt;k.scale.x)return[];i&#x3D;{distance:n,point:k.position,face:null,object:k};o.push(i)}else if(k instanceof THREE.Mesh){n&#x3D;c(this.origin,this.direction,k.matrixWorld.getPosition());if(n&#x3D;&#x3D;&#x3D;null||n&gt;k.geometry.boundingSphere.radius</em>Math.max(k.scale.x,Math.max(k.scale.y,k.scale.z)))return o;var p,G&#x3D;k.geometry,H&#x3D;G.vertices,I;k.matrixRotationWorld.extractRotation(k.matrixWorld);n&#x3D;0;for(W&#x3D;G.faces.length;n&lt;W;n++)if(i&#x3D;G.faces[n],a.copy(this.origin),b.copy(this.direction),I&#x3D;k.matrixWorld,m&#x3D;I.multiplyVector3(m.copy(i.centroid)).subSelf(a),p&#x3D;m.dot(b),!(p&lt;&#x3D;0)&amp;&amp;(f&#x3D;I.multiplyVector3(f.copy(H[i.a].position)),e&#x3D;I.multiplyVector3(e.copy(H[i.b].position)),g&#x3D;I.multiplyVector3(g.copy(H[i.c].position)),i instanceof THREE.Face4&amp;&amp;(h&#x3D;I.multiplyVector3(h.copy(H[i.d].position))),l&#x3D;k.matrixRotationWorld.multiplyVector3(l.copy(i.normal)),p&#x3D;b.dot(l),k.doubleSided||(k.flipSided?p&gt;0:p&lt;0)))if(p&#x3D;l.dot(m.sub(f,a))&#x2F;p,j.add(a,b.multiplyScalar(p)),i instanceof THREE.Face3)d(j,f,e,g)&amp;&amp;(i&#x3D;{distance:a.distanceTo(j),point:j.clone(),face:i,object:k},o.push(i));else if(i instanceof THREE.Face4&amp;&amp;(d(j,f,e,h)||d(j,e,g,h)))i&#x3D;{distance:a.distanceTo(j),point:j.clone(),face:i,object:k},o.push(i)}return o};var i&#x3D;new THREE.Vector3,n&#x3D;new THREE.Vector3,o&#x3D;new THREE.Vector3,p,k,s,K,C,Q,O,w,F,z,D};THREE.Rectangle&#x3D;function(){function a(){e&#x3D;d-b;g&#x3D;f-c}var b,c,d,f,e,g,h&#x3D;!0;this.getX&#x3D;function(){return b};this.getY&#x3D;function(){return c};this.getWidth&#x3D;function(){return e};this.getHeight&#x3D;function(){return g};this.getLeft&#x3D;function(){return b};this.getTop&#x3D;function(){return c};this.getRight&#x3D;function(){return d};this.getBottom&#x3D;function(){return f};this.set&#x3D;function(e,g,j,i){h&#x3D;!1;b&#x3D;e;c&#x3D;g;d&#x3D;j;f&#x3D;i;a()};this.addPoint&#x3D;function(e,g){h?(h&#x3D;!1,b&#x3D;e,c&#x3D;g,d&#x3D;e,f&#x3D;g):(b&#x3D;b&lt;e?b:e,c&#x3D;c&lt;g?c:g,d&#x3D;d&gt;e?d:e,f&#x3D;f&gt;g?f:g);a()};this.add3Points&#x3D;function(e,g,j,i,n,o){h?(h&#x3D;!1,b&#x3D;e&lt;j?e&lt;n?e:n:j&lt;n?j:n,c&#x3D;g&lt;i?g&lt;o?g:o:i&lt;o?i:o,d&#x3D;e&gt;j?e&gt;n?e:n:j&gt;n?j:n,f&#x3D;g&gt;i?g&gt;o?g:o:i&gt;o?i:o):(b&#x3D;e&lt;j?e&lt;n?e&lt;b?e:b:n&lt;b?n:b:j&lt;n?j&lt;b?j:b:n&lt;b?n:b,c&#x3D;g&lt;i?g&lt;o?g&lt;c?g:c:o&lt;c?o:c:i&lt;o?i&lt;c?i:c:o&lt;c?o:c,d&#x3D;e&gt;j?e&gt;n?e&gt;d?e:d:n&gt;d?n:d:j&gt;n?j&gt;d?j:d:n&gt;d?n:d,f&#x3D;g&gt;i?g&gt;o?g&gt;f?g:f:o&gt;f?o:f:i&gt;o?i&gt;f?i:f:o&gt;f?o:f);a()};this.addRectangle&#x3D;function(e){h?(h&#x3D;!1,b&#x3D;e.getLeft(),c&#x3D;e.getTop(),d&#x3D;e.getRight(),f&#x3D;e.getBottom()):(b&#x3D;b&lt;e.getLeft()?b:e.getLeft(),c&#x3D;c&lt;e.getTop()?c:e.getTop(),d&#x3D;d&gt;e.getRight()?d:e.getRight(),f&#x3D;f&gt;e.getBottom()?f:e.getBottom());a()};this.inflate&#x3D;function(e){b-&#x3D;e;c-&#x3D;e;d+&#x3D;e;f+&#x3D;e;a()};this.minSelf&#x3D;function(e){b&#x3D;b&gt;e.getLeft()?b:e.getLeft();c&#x3D;c&gt;e.getTop()?c:e.getTop();d&#x3D;d&lt;e.getRight()?d:e.getRight();f&#x3D;f&lt;e.getBottom()?f:e.getBottom();a()};this.intersects&#x3D;function(a){return Math.min(d,a.getRight())-Math.max(b,a.getLeft())&gt;&#x3D;0&amp;&amp;Math.min(f,a.getBottom())-Math.max(c,a.getTop())&gt;&#x3D;0};this.empty&#x3D;function(){h&#x3D;!0;f&#x3D;d&#x3D;c&#x3D;b&#x3D;0;a()};this.isEmpty&#x3D;function(){return h}};THREE.Math&#x3D;{clamp:function(a,b,c){return a&lt;b?b:a&gt;c?c:a},clampBottom:function(a,b){return a&lt;b?b:a},mapLinear:function(a,b,c,d,f){return d+(a-b)<em>(f-d)&#x2F;(c-b)},random16:function(){return(65280<em>Math.random()+255</em>Math.random())&#x2F;65535}};THREE.Matrix3&#x3D;function(){this.m&#x3D;[]};THREE.Matrix3.prototype&#x3D;{constructor:THREE.Matrix3,transpose:function(){var a,b&#x3D;this.m;a&#x3D;b[1];b[1]&#x3D;b[3];b[3]&#x3D;a;a&#x3D;b[2];b[2]&#x3D;b[6];b[6]&#x3D;a;a&#x3D;b[5];b[5]&#x3D;b[7];b[7]&#x3D;a;return this},transposeIntoArray:function(a){var b&#x3D;this.m;a[0]&#x3D;b[0];a[1]&#x3D;b[3];a[2]&#x3D;b[6];a[3]&#x3D;b[1];a[4]&#x3D;b[4];a[5]&#x3D;b[7];a[6]&#x3D;b[2];a[7]&#x3D;b[5];a[8]&#x3D;b[8];return this}};THREE.Matrix4&#x3D;function(a,b,c,d,f,e,g,h,m,l,j,i,n,o,p,k){this.set(a!&#x3D;&#x3D;void 0?a:1,b||0,c||0,d||0,f||0,e!&#x3D;&#x3D;void 0?e:1,g||0,h||0,m||0,l||0,j!&#x3D;&#x3D;void 0?j:1,i||0,n||0,o||0,p||0,k!&#x3D;&#x3D;void 0?k:1);this.flat&#x3D;Array(16);this.m33&#x3D;new THREE.Matrix3};THREE.Matrix4.prototype&#x3D;{constructor:THREE.Matrix4,set:function(a,b,c,d,f,e,g,h,m,l,j,i,n,o,p,k){this.n11&#x3D;a;this.n12&#x3D;b;this.n13&#x3D;c;this.n14&#x3D;d;this.n21&#x3D;f;this.n22&#x3D;e;this.n23&#x3D;g;this.n24&#x3D;h;this.n31&#x3D;m;this.n32&#x3D;l;this.n33&#x3D;j;this.n34&#x3D;i;this.n41&#x3D;n;this.n42&#x3D;o;this.n43&#x3D;p;this.n44&#x3D;k;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(a){this.set(a.n11,a.n12,a.n13,a.n14,a.n21,a.n22,a.n23,a.n24,a.n31,a.n32,a.n33,a.n34,a.n41,a.n42,a.n43,a.n44);return this},lookAt:function(a,b,c){var d&#x3D;THREE.Matrix4.__v1,f&#x3D;THREE.Matrix4.__v2,e&#x3D;THREE.Matrix4.__v3;e.sub(a,b).normalize();if(e.length()&#x3D;&#x3D;&#x3D;0)e.z&#x3D;1;d.cross(c,e).normalize();d.length()&#x3D;&#x3D;&#x3D;0&amp;&amp;(e.x+&#x3D;1.0E-4,d.cross(c,e).normalize());f.cross(e,d).normalize();this.n11&#x3D;d.x;this.n12&#x3D;f.x;this.n13&#x3D;e.x;this.n21&#x3D;d.y;this.n22&#x3D;f.y;this.n23&#x3D;e.y;this.n31&#x3D;d.z;this.n32&#x3D;f.z;this.n33&#x3D;e.z;return this},multiply:function(a,b){var c&#x3D;a.n11,d&#x3D;a.n12,f&#x3D;a.n13,e&#x3D;a.n14,g&#x3D;a.n21,h&#x3D;a.n22,m&#x3D;a.n23,l&#x3D;a.n24,j&#x3D;a.n31,i&#x3D;a.n32,n&#x3D;a.n33,o&#x3D;a.n34,p&#x3D;a.n41,k&#x3D;a.n42,s&#x3D;a.n43,K&#x3D;a.n44,C&#x3D;b.n11,Q&#x3D;b.n12,O&#x3D;b.n13,w&#x3D;b.n14,F&#x3D;b.n21,z&#x3D;b.n22,D&#x3D;b.n23,u&#x3D;b.n24,r&#x3D;b.n31,E&#x3D;b.n32,N&#x3D;b.n33,W&#x3D;b.n34,da&#x3D;b.n41,G&#x3D;b.n42,H&#x3D;b.n43,I&#x3D;b.n44;this.n11&#x3D;c<em>C+d</em>F+f<em>r+e</em>da;this.n12&#x3D;c<em>Q+d</em>z+f<em>E+e</em>G;this.n13&#x3D;c<em>O+d</em>D+f<em>N+e</em>H;this.n14&#x3D;c<em>w+d</em>u+f<em>W+e</em>I;this.n21&#x3D;g<em>C+h</em>F+m<em>r+l</em>da;this.n22&#x3D;g<em>Q+h</em>z+m<em>E+l</em>G;this.n23&#x3D;g<em>O+h</em>D+m<em>N+l</em>H;this.n24&#x3D;g<em>w+h</em>u+m<em>W+l</em>I;this.n31&#x3D;j<em>C+i</em>F+n<em>r+o</em>da;this.n32&#x3D;j<em>Q+i</em>z+n<em>E+o</em>G;this.n33&#x3D;j<em>O+i</em>D+n<em>N+o</em>H;this.n34&#x3D;j<em>w+i</em>u+n<em>W+o</em>I;this.n41&#x3D;p<em>C+k</em>F+s<em>r+K</em>da;this.n42&#x3D;p<em>Q+k</em>z+s<em>E+K</em>G;this.n43&#x3D;p<em>O+k</em>D+s<em>N+K</em>H;this.n44&#x3D;p<em>w+k</em>u+s<em>W+K</em>I;return this},multiplySelf:function(a){return this.multiply(this,a)},multiplyToArray:function(a,b,c){this.multiply(a,b);c[0]&#x3D;this.n11;c[1]&#x3D;this.n21;c[2]&#x3D;this.n31;c[3]&#x3D;this.n41;c[4]&#x3D;this.n12;c[5]&#x3D;this.n22;c[6]&#x3D;this.n32;c[7]&#x3D;this.n42;c[8]&#x3D;this.n13;c[9]&#x3D;this.n23;c[10]&#x3D;this.n33;c[11]&#x3D;this.n43;c[12]&#x3D;this.n14;c[13]&#x3D;this.n24;c[14]&#x3D;this.n34;c[15]&#x3D;this.n44;return this},multiplyScalar:function(a){this.n11*&#x3D;a;this.n12*&#x3D;a;this.n13*&#x3D;a;this.n14*&#x3D;a;this.n21*&#x3D;a;this.n22*&#x3D;a;this.n23*&#x3D;a;this.n24*&#x3D;a;this.n31*&#x3D;a;this.n32*&#x3D;a;this.n33*&#x3D;a;this.n34*&#x3D;a;this.n41*&#x3D;a;this.n42*&#x3D;a;this.n43*&#x3D;a;this.n44*&#x3D;a;return this},multiplyVector3:function(a){var b&#x3D;a.x,c&#x3D;a.y,d&#x3D;a.z,f&#x3D;1&#x2F;(this.n41<em>b+this.n42</em>c+this.n43<em>d+this.n44);a.x&#x3D;(this.n11</em>b+this.n12<em>c+this.n13</em>d+this.n14)<em>f;a.y&#x3D;(this.n21</em>b+this.n22<em>c+this.n23</em>d+this.n24)<em>f;a.z&#x3D;(this.n31</em>b+this.n32<em>c+this.n33</em>d+this.n34)<em>f;return a},multiplyVector4:function(a){var b&#x3D;a.x,c&#x3D;a.y,d&#x3D;a.z,f&#x3D;a.w;a.x&#x3D;this.n11</em>b+this.n12<em>c+this.n13</em>d+this.n14<em>f;a.y&#x3D;this.n21</em>b+this.n22<em>c+this.n23</em>d+this.n24<em>f;a.z&#x3D;this.n31</em>b+this.n32<em>c+this.n33</em>d+this.n34<em>f;a.w&#x3D;this.n41</em>b+this.n42<em>c+this.n43</em>d+this.n44<em>f;return a},rotateAxis:function(a){var b&#x3D;a.x,c&#x3D;a.y,d&#x3D;a.z;a.x&#x3D;b</em>this.n11+c<em>this.n12+d</em>this.n13;a.y&#x3D;b<em>this.n21+c</em>this.n22+d<em>this.n23;a.z&#x3D;b</em>this.n31+c<em>this.n32+d</em>this.n33;a.normalize();return a},crossVector:function(a){var b&#x3D;new THREE.Vector4;b.x&#x3D;this.n11<em>a.x+this.n12</em>a.y+this.n13<em>a.z+this.n14</em>a.w;b.y&#x3D;this.n21<em>a.x+this.n22</em>a.y+this.n23<em>a.z+this.n24</em>a.w;b.z&#x3D;this.n31<em>a.x+this.n32</em>a.y+this.n33<em>a.z+this.n34</em>a.w;b.w&#x3D;a.w?this.n41<em>a.x+this.n42</em>a.y+this.n43<em>a.z+this.n44</em>a.w:1;return b},determinant:function(){var a&#x3D;this.n11,b&#x3D;this.n12,c&#x3D;this.n13,d&#x3D;this.n14,f&#x3D;this.n21,e&#x3D;this.n22,g&#x3D;this.n23,h&#x3D;this.n24,m&#x3D;this.n31,l&#x3D;this.n32,j&#x3D;this.n33,i&#x3D;this.n34,n&#x3D;this.n41,o&#x3D;this.n42,p&#x3D;this.n43,k&#x3D;this.n44;return d<em>g</em>l<em>n-c</em>h<em>l</em>n-d<em>e</em>j<em>n+b</em>h<em>j</em>n+c<em>e</em>i<em>n-b</em>g<em>i</em>n-d<em>g</em>m<em>o+c</em>h<em>m</em>o+d<em>f</em>j<em>o-a</em>h<em>j</em>o-c<em>f</em>i<em>o+a</em>g<em>i</em>o+d<em>e</em>m<em>p-b</em>h<em>m</em>p-d<em>f</em>l<em>p+a</em>h<em>l</em>p+b<em>f</em>i<em>p-a</em>e<em>i</em>p-c<em>e</em>m<em>k+b</em>g<em>m</em>k+c<em>f</em>l<em>k-a</em>g<em>l</em>k-b<em>f</em>j<em>k+a</em>e<em>j</em>k},transpose:function(){var a;a&#x3D;this.n21;this.n21&#x3D;this.n12;this.n12&#x3D;a;a&#x3D;this.n31;this.n31&#x3D;this.n13;this.n13&#x3D;a;a&#x3D;this.n32;this.n32&#x3D;this.n23;this.n23&#x3D;a;a&#x3D;this.n41;this.n41&#x3D;this.n14;this.n14&#x3D;a;a&#x3D;this.n42;this.n42&#x3D;this.n24;this.n24&#x3D;a;a&#x3D;this.n43;this.n43&#x3D;this.n34;this.n43&#x3D;a;return this},clone:function(){var a&#x3D;new THREE.Matrix4;a.n11&#x3D;this.n11;a.n12&#x3D;this.n12;a.n13&#x3D;this.n13;a.n14&#x3D;this.n14;a.n21&#x3D;this.n21;a.n22&#x3D;this.n22;a.n23&#x3D;this.n23;a.n24&#x3D;this.n24;a.n31&#x3D;this.n31;a.n32&#x3D;this.n32;a.n33&#x3D;this.n33;a.n34&#x3D;this.n34;a.n41&#x3D;this.n41;a.n42&#x3D;this.n42;a.n43&#x3D;this.n43;a.n44&#x3D;this.n44;return a},flatten:function(){this.flat[0]&#x3D;this.n11;this.flat[1]&#x3D;this.n21;this.flat[2]&#x3D;this.n31;this.flat[3]&#x3D;this.n41;this.flat[4]&#x3D;this.n12;this.flat[5]&#x3D;this.n22;this.flat[6]&#x3D;this.n32;this.flat[7]&#x3D;this.n42;this.flat[8]&#x3D;this.n13;this.flat[9]&#x3D;this.n23;this.flat[10]&#x3D;this.n33;this.flat[11]&#x3D;this.n43;this.flat[12]&#x3D;this.n14;this.flat[13]&#x3D;this.n24;this.flat[14]&#x3D;this.n34;this.flat[15]&#x3D;this.n44;return this.flat},flattenToArray:function(a){a[0]&#x3D;this.n11;a[1]&#x3D;this.n21;a[2]&#x3D;this.n31;a[3]&#x3D;this.n41;a[4]&#x3D;this.n12;a[5]&#x3D;this.n22;a[6]&#x3D;this.n32;a[7]&#x3D;this.n42;a[8]&#x3D;this.n13;a[9]&#x3D;this.n23;a[10]&#x3D;this.n33;a[11]&#x3D;this.n43;a[12]&#x3D;this.n14;a[13]&#x3D;this.n24;a[14]&#x3D;this.n34;a[15]&#x3D;this.n44;return a},flattenToArrayOffset:function(a,b){a[b]&#x3D;this.n11;a[b+1]&#x3D;this.n21;a[b+2]&#x3D;this.n31;a[b+3]&#x3D;this.n41;a[b+4]&#x3D;this.n12;a[b+5]&#x3D;this.n22;a[b+6]&#x3D;this.n32;a[b+7]&#x3D;this.n42;a[b+8]&#x3D;this.n13;a[b+9]&#x3D;this.n23;a[b+10]&#x3D;this.n33;a[b+11]&#x3D;this.n43;a[b+12]&#x3D;this.n14;a[b+13]&#x3D;this.n24;a[b+14]&#x3D;this.n34;a[b+15]&#x3D;this.n44;return a},setTranslation:function(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this},setScale:function(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this},setRotationX:function(a){var b&#x3D;Math.cos(a),a&#x3D;Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this},setRotationY:function(a){var b&#x3D;Math.cos(a),a&#x3D;Math.sin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this},setRotationZ:function(a){var b&#x3D;Math.cos(a),a&#x3D;Math.sin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this},setRotationAxis:function(a,b){var c&#x3D;Math.cos(b),d&#x3D;Math.sin(b),f&#x3D;1-c,e&#x3D;a.x,g&#x3D;a.y,h&#x3D;a.z,m&#x3D;f<em>e,l&#x3D;f</em>g;this.set(m<em>e+c,m</em>g-d<em>h,m</em>h+d<em>g,0,m</em>g+d<em>h,l</em>g+c,l<em>h-d</em>e,0,m<em>h-d</em>g,l<em>h+d</em>e,f<em>h</em>h+c,0,0,0,0,1);return this},setPosition:function(a){this.n14&#x3D;a.x;this.n24&#x3D;a.y;this.n34&#x3D;a.z;return this},getPosition:function(){return THREE.Matrix4.__v1.set(this.n14,this.n24,this.n34)},getColumnX:function(){return THREE.Matrix4.__v1.set(this.n11,this.n21,this.n31)},getColumnY:function(){return THREE.Matrix4.__v1.set(this.n12,this.n22,this.n32)},getColumnZ:function(){return THREE.Matrix4.__v1.set(this.n13,this.n23,this.n33)},getInverse:function(a){var b&#x3D;a.n11,c&#x3D;a.n12,d&#x3D;a.n13,f&#x3D;a.n14,e&#x3D;a.n21,g&#x3D;a.n22,h&#x3D;a.n23,m&#x3D;a.n24,l&#x3D;a.n31,j&#x3D;a.n32,i&#x3D;a.n33,n&#x3D;a.n34,o&#x3D;a.n41,p&#x3D;a.n42,k&#x3D;a.n43,s&#x3D;a.n44;this.n11&#x3D;h<em>n</em>p-m<em>i</em>p+m<em>j</em>k-g<em>n</em>k-h<em>j</em>s+g<em>i</em>s;this.n12&#x3D;f<em>i</em>p-d<em>n</em>p-f<em>j</em>k+c<em>n</em>k+d<em>j</em>s-c<em>i</em>s;this.n13&#x3D;d<em>m</em>p-f<em>h</em>p+f<em>g</em>k-c<em>m</em>k-d<em>g</em>s+c<em>h</em>s;this.n14&#x3D;f<em>h</em>j-d<em>m</em>j-f<em>g</em>i+c<em>m</em>i+d<em>g</em>n-c<em>h</em>n;this.n21&#x3D;m<em>i</em>o-h<em>n</em>o-m<em>l</em>k+e<em>n</em>k+h<em>l</em>s-e<em>i</em>s;this.n22&#x3D;d<em>n</em>o-f<em>i</em>o+f<em>l</em>k-b<em>n</em>k-d<em>l</em>s+b<em>i</em>s;this.n23&#x3D;f<em>h</em>o-d<em>m</em>o-f<em>e</em>k+b<em>m</em>k+d<em>e</em>s-b<em>h</em>s;this.n24&#x3D;d<em>m</em>l-f<em>h</em>l+f<em>e</em>i-b<em>m</em>i-d<em>e</em>n+b<em>h</em>n;this.n31&#x3D;g<em>n</em>o-m<em>j</em>o+m<em>l</em>p-e<em>n</em>p-g<em>l</em>s+e<em>j</em>s;this.n32&#x3D;f<em>j</em>o-c<em>n</em>o-f<em>l</em>p+b<em>n</em>p+c<em>l</em>s-b<em>j</em>s;this.n33&#x3D;d<em>m</em>o-f<em>g</em>o+f<em>e</em>p-b<em>m</em>p-c<em>e</em>s+b<em>g</em>s;this.n34&#x3D;f<em>g</em>l-c<em>m</em>l-f<em>e</em>j+b<em>m</em>j+c<em>e</em>n-b<em>g</em>n;this.n41&#x3D;h<em>j</em>o-g<em>i</em>o-h<em>l</em>p+e<em>i</em>p+g<em>l</em>k-e<em>j</em>k;this.n42&#x3D;c<em>i</em>o-d<em>j</em>o+d<em>l</em>p-b<em>i</em>p-c<em>l</em>k+b<em>j</em>k;this.n43&#x3D;d<em>g</em>o-c<em>h</em>o-d<em>e</em>p+b<em>h</em>p+c<em>e</em>k-b<em>g</em>k;this.n44&#x3D;c<em>h</em>l-d<em>g</em>l+d<em>e</em>j-b<em>h</em>j-c<em>e</em>i+b<em>g</em>i;this.multiplyScalar(1&#x2F;a.determinant());return this},setRotationFromEuler:function(a,b){var c&#x3D;a.x,d&#x3D;a.y,f&#x3D;a.z,e&#x3D;Math.cos(c),c&#x3D;Math.sin(c),g&#x3D;Math.cos(d),d&#x3D;Math.sin(d),h&#x3D;Math.cos(f),f&#x3D;Math.sin(f);switch(b){case”YXZ”:var m&#x3D;g<em>h,l&#x3D;g</em>f,j&#x3D;d<em>h,i&#x3D;d</em>f;this.n11&#x3D;m+i<em>c;this.n12&#x3D;j</em>c-l;this.n13&#x3D;e<em>d;this.n21&#x3D;e</em>f;this.n22&#x3D;e<em>h;this.n23&#x3D;-c;this.n31&#x3D;l</em>c-j;this.n32&#x3D;i+m<em>c;this.n33&#x3D;e</em>g;break;case”ZXY”:m&#x3D;g<em>h;l&#x3D;g</em>f;j&#x3D;d<em>h;i&#x3D;d</em>f;this.n11&#x3D;m-i<em>c;this.n12&#x3D;-e</em>f;this.n13&#x3D;j+l<em>c;this.n21&#x3D;l+j</em>c;this.n22&#x3D;e<em>h;this.n23&#x3D;i-m</em>c;this.n31&#x3D;-e<em>d;this.n32&#x3D;c;this.n33&#x3D;e</em>g;break;case”ZYX”:m&#x3D;e<em>h;l&#x3D;e</em>f;j&#x3D;c<em>h;i&#x3D;c</em>f;this.n11&#x3D;g<em>h;this.n12&#x3D;j</em>d-l;this.n13&#x3D;m<em>d+i;this.n21&#x3D;g</em>f;this.n22&#x3D;i<em>d+m;this.n23&#x3D;l</em>d-j;this.n31&#x3D;-d;this.n32&#x3D;c<em>g;this.n33&#x3D;e</em>g;break;case”YZX”:m&#x3D;e<em>g;l&#x3D;e</em>d;j&#x3D;c<em>g;i&#x3D;c</em>d;this.n11&#x3D;g<em>h;this.n12&#x3D;i-m</em>f;this.n13&#x3D;j<em>f+l;this.n21&#x3D;f;this.n22&#x3D;e</em>h;this.n23&#x3D;-c<em>h;this.n31&#x3D;-d</em>h;this.n32&#x3D;l<em>f+j;this.n33&#x3D;m-i</em>f;break;case”XZY”:m&#x3D;e<em>g;l&#x3D;e</em>d;j&#x3D;c<em>g;i&#x3D;c</em>d;this.n11&#x3D;g<em>h;this.n12&#x3D;-f;this.n13&#x3D;d</em>h;this.n21&#x3D;m<em>f+i;this.n22&#x3D;e</em>h;this.n23&#x3D;l<em>f-j;this.n31&#x3D;j</em>f-l;this.n32&#x3D;c<em>h;this.n33&#x3D;i</em>f+m;break;default:m&#x3D;e<em>h,l&#x3D;e</em>f,j&#x3D;c<em>h,i&#x3D;c</em>f,this.n11&#x3D;g<em>h,this.n12&#x3D;-g</em>f,this.n13&#x3D;d,this.n21&#x3D;l+j<em>d,this.n22&#x3D;m-i</em>d,this.n23&#x3D;-c<em>g,this.n31&#x3D;i-m</em>d,this.n32&#x3D;j+l<em>d,this.n33&#x3D;e</em>g}return this},setRotationFromQuaternion:function(a){var b&#x3D;a.x,c&#x3D;a.y,d&#x3D;a.z,f&#x3D;a.w,e&#x3D;b+b,g&#x3D;c+c,h&#x3D;d+d,a&#x3D;b<em>e,m&#x3D;b</em>g;b*&#x3D;h;var l&#x3D;c<em>g;c</em>&#x3D;h;d*&#x3D;h;e*&#x3D;f;g*&#x3D;f;f*&#x3D;h;this.n11&#x3D;1-(l+d);this.n12&#x3D;m-f;this.n13&#x3D;b+g;this.n21&#x3D;m+f;this.n22&#x3D;1-(a+d);this.n23&#x3D;c-e;this.n31&#x3D;b-g;this.n32&#x3D;c+e;this.n33&#x3D;1-(a+l);return this},scale:function(a){var b&#x3D;a.x,c&#x3D;a.y,a&#x3D;a.z;this.n11*&#x3D;b;this.n12*&#x3D;c;this.n13*&#x3D;a;this.n21*&#x3D;b;this.n22*&#x3D;c;this.n23*&#x3D;a;this.n31*&#x3D;b;this.n32*&#x3D;c;this.n33*&#x3D;a;this.n41*&#x3D;b;this.n42*&#x3D;c;this.n43*&#x3D;a;return this},compose:function(a,b,c){var d&#x3D;THREE.Matrix4.__m1,f&#x3D;THREE.Matrix4.__m2;d.identity();d.setRotationFromQuaternion(b);f.setScale(c.x,c.y,c.z);this.multiply(d,f);this.n14&#x3D;a.x;this.n24&#x3D;a.y;this.n34&#x3D;a.z;return this},decompose:function(a,b,c){var d&#x3D;THREE.Matrix4.__v1,f&#x3D;THREE.Matrix4.__v2,e&#x3D;THREE.Matrix4.__v3;d.set(this.n11,this.n21,this.n31);f.set(this.n12,this.n22,this.n32);e.set(this.n13,this.n23,this.n33);a&#x3D;a instanceof THREE.Vector3?a:new THREE.Vector3;b&#x3D;b instanceof THREE.Quaternion?b:new THREE.Quaternion;c&#x3D;c instanceof THREE.Vector3?c:new THREE.Vector3;c.x&#x3D;d.length();c.y&#x3D;f.length();c.z&#x3D;e.length();a.x&#x3D;this.n14;a.y&#x3D;this.n24;a.z&#x3D;this.n34;d&#x3D;THREE.Matrix4.__m1;d.copy(this);d.n11&#x2F;&#x3D;c.x;d.n21&#x2F;&#x3D;c.x;d.n31&#x2F;&#x3D;c.x;d.n12&#x2F;&#x3D;c.y;d.n22&#x2F;&#x3D;c.y;d.n32&#x2F;&#x3D;c.y;d.n13&#x2F;&#x3D;c.z;d.n23&#x2F;&#x3D;c.z;d.n33&#x2F;&#x3D;c.z;b.setFromRotationMatrix(d);return[a,b,c]},extractPosition:function(a){this.n14&#x3D;a.n14;this.n24&#x3D;a.n24;this.n34&#x3D;a.n34;return this},extractRotation:function(a){var b&#x3D;THREE.Matrix4.__v1,c&#x3D;1&#x2F; b.set(a.n11, a.n21, a.n31).length(), d &#x3D; 1 &#x2F;b.set(a.n12,a.n22,a.n32).length(),b&#x3D;1&#x2F;b.set(a.n13,a.n23,a.n33).length();this.n11&#x3D;a.n11<em>c;this.n21&#x3D;a.n21</em>c;this.n31&#x3D;a.n31<em>c;this.n12&#x3D;a.n12</em>d;this.n22&#x3D;a.n22<em>d;this.n32&#x3D;a.n32</em>d;this.n13&#x3D;a.n13<em>b;this.n23&#x3D;a.n23</em>b;this.n33&#x3D;a.n33<em>b;return this}};THREE.Matrix4.makeInvert3x3&#x3D;function(a){var b&#x3D;a.m33,c&#x3D;b.m,d&#x3D;a.n33</em>a.n22-a.n32<em>a.n23,f&#x3D;-a.n33</em>a.n21+a.n31<em>a.n23,e&#x3D;a.n32</em>a.n21-a.n31<em>a.n22,g&#x3D;-a.n33</em>a.n12+a.n32<em>a.n13,h&#x3D;a.n33</em>a.n11-a.n31<em>a.n13,m&#x3D;-a.n32</em>a.n11+a.n31<em>a.n12,l&#x3D;a.n23</em>a.n12-a.n22<em>a.n13,j&#x3D;-a.n23</em>a.n11+a.n21<em>a.n13,i&#x3D;a.n22</em>a.n11-a.n21<em>a.n12,a&#x3D;a.n11</em>d+a.n21<em>g+a.n31</em>l;a&#x3D;&#x3D;&#x3D;0&amp;&amp;console.error(“THREE.Matrix4.makeInvert3x3: Matrix not invertible.”);a&#x3D;1&#x2F;a;c[0]&#x3D;a<em>d;c[1]&#x3D;a</em>f;c[2]&#x3D;a<em>e;c[3]&#x3D;a</em>g;c[4]&#x3D;a<em>h;c[5]&#x3D;a</em>m;c[6]&#x3D;a<em>l;c[7]&#x3D;a</em>j;c[8]&#x3D;a<em>i;return b};THREE.Matrix4.makeFrustum&#x3D;function(a,b,c,d,f,e){var g;g&#x3D;new THREE.Matrix4;g.n11&#x3D;2</em>f&#x2F;(b-a);g.n12&#x3D;0;g.n13&#x3D;(b+a)&#x2F;(b-a);g.n14&#x3D;0;g.n21&#x3D;0;g.n22&#x3D;2<em>f&#x2F;(d-c);g.n23&#x3D;(d+c)&#x2F;(d-c);g.n24&#x3D;0;g.n31&#x3D;0;g.n32&#x3D;0;g.n33&#x3D;-(e+f)&#x2F;(e-f);g.n34&#x3D;-2</em>e<em>f&#x2F;(e-f);g.n41&#x3D;0;g.n42&#x3D;0;g.n43&#x3D;-1;g.n44&#x3D;0;return g};THREE.Matrix4.makePerspective&#x3D;function(a,b,c,d){var f,a&#x3D;c</em>Math.tan(a<em>Math.PI&#x2F;360);f&#x3D;-a;return THREE.Matrix4.makeFrustum(f</em>b,a*b,f,a,c,d)};THREE.Matrix4.makeOrtho&#x3D;function(a,b,c,d,f,e){var g,h,m,l;g&#x3D;new THREE.Matrix4;h&#x3D;b-a;m&#x3D;c-d;l&#x3D;e-f;g.n11&#x3D;2&#x2F;h;g.n12&#x3D;0;g.n13&#x3D;0;g.n14&#x3D;-((b+a)&#x2F;h);g.n21&#x3D;0;g.n22&#x3D;2&#x2F;m;g.n23&#x3D;0;g.n24&#x3D;-((c+d)&#x2F;m);g.n31&#x3D;0;g.n32&#x3D;0;g.n33&#x3D;-2&#x2F;l;g.n34&#x3D;-((e+f)&#x2F;l);g.n41&#x3D;0;g.n42&#x3D;0;g.n43&#x3D;0;g.n44&#x3D;1;return g};THREE.Matrix4.__v1&#x3D;new THREE.Vector3;THREE.Matrix4.__v2&#x3D;new THREE.Vector3;THREE.Matrix4.__v3&#x3D;new THREE.Vector3;THREE.Matrix4.__m1&#x3D;new THREE.Matrix4;THREE.Matrix4.__m2&#x3D;new THREE.Matrix4;THREE.Object3D&#x3D;function(){this.name&#x3D;””;this.id&#x3D;THREE.Object3DCount++;this.parent&#x3D;void 0;this.children&#x3D;[];this.up&#x3D;new THREE.Vector3(0,1,0);this.position&#x3D;new THREE.Vector3;this.rotation&#x3D;new THREE.Vector3;this.eulerOrder&#x3D;”XYZ”;this.scale&#x3D;new THREE.Vector3(1,1,1);this.flipSided&#x3D;this.doubleSided&#x3D;this.dynamic&#x3D;!1;this.renderDepth&#x3D;null;this.rotationAutoUpdate&#x3D;!0;this.matrix&#x3D;new THREE.Matrix4;this.matrixWorld&#x3D;new THREE.Matrix4;this.matrixRotationWorld&#x3D;new THREE.Matrix4;this.matrixWorldNeedsUpdate&#x3D;this.matrixAutoUpdate&#x3D;!0;this.quaternion&#x3D;new THREE.Quaternion;this.useQuaternion&#x3D;!1;this.boundRadius&#x3D;0;this.boundRadiusScale&#x3D;1;this.visible&#x3D;!0;this.receiveShadow&#x3D;this.castShadow&#x3D;!1;this.frustumCulled&#x3D;!0;this._vector&#x3D;new THREE.Vector3};THREE.Object3D.prototype&#x3D;{constructor:THREE.Object3D,translate:function(a,b){this.matrix.rotateAxis(b);this.position.addSelf(b.multiplyScalar(a))},translateX:function(a){this.translate(a,this._vector.set(1,0,0))},translateY:function(a){this.translate(a,this._vector.set(0,1,0))},translateZ:function(a){this.translate(a,this._vector.set(0,0,1))},lookAt:function(a){this.matrix.lookAt(a,this.position,this.up);this.rotationAutoUpdate&amp;&amp;this.rotation.setRotationFromMatrix(this.matrix)},add:function(a){if(this.children.indexOf(a)&#x3D;&#x3D;&#x3D;-1){a.parent!&#x3D;&#x3D;void 0&amp;&amp;a.parent.remove(a);a.parent&#x3D;this;this.children.push(a);for(var b&#x3D;this;b.parent!&#x3D;&#x3D;void 0;)b&#x3D;b.parent;b!&#x3D;&#x3D;void 0&amp;&amp;b instanceof THREE.Scene&amp;&amp;b.addObject(a)}},remove:function(a){var b&#x3D;this.children.indexOf(a);if(b!&#x3D;&#x3D;-1){a.parent&#x3D;void 0;this.children.splice(b,1);for(b&#x3D;this;b.parent!&#x3D;&#x3D;void 0;)b&#x3D;b.parent;b!&#x3D;&#x3D;void 0&amp;&amp;b instanceof THREE.Scene&amp;&amp;b.removeObject(a)}},getChildByName:function(a,b){var c,d,f;c&#x3D;0;for(d&#x3D;this.children.length;c&lt;d;c++){f&#x3D;this.children[c];if(f.name&#x3D;&#x3D;&#x3D;a)return f;if(b&amp;&amp;(f&#x3D;f.getChildByName(a,b),f!&#x3D;&#x3D;void 0))return f}},updateMatrix:function(){this.matrix.setPosition(this.position);this.useQuaternion?this.matrix.setRotationFromQuaternion(this.quaternion):this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder);if(this.scale.x!&#x3D;&#x3D;1||this.scale.y!&#x3D;&#x3D;1||this.scale.z!&#x3D;&#x3D;1)this.matrix.scale(this.scale),this.boundRadiusScale&#x3D;Math.max(this.scale.x,Math.max(this.scale.y,this.scale.z));this.matrixWorldNeedsUpdate&#x3D;!0},updateMatrixWorld:function(a){this.matrixAutoUpdate&amp;&amp;this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)this.parent?this.matrixWorld.multiply(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate&#x3D;!1,a&#x3D;!0;for(var b&#x3D;0,c&#x3D;this.children.length;b&lt;c;b++)this.children[b].updateMatrixWorld(a)}};THREE.Object3DCount&#x3D;0;THREE.Projector&#x3D;function(){function a(){var a&#x3D;g[e]&#x3D;g[e]||new THREE.RenderableObject;e++;return a}function b(){var a&#x3D;l[m]&#x3D;l[m]||new THREE.RenderableVertex;m++;return a}function c(a,b){return b.z-a.z}function d(a,b){var c&#x3D;0,d&#x3D;1,e&#x3D;a.z+a.w,f&#x3D;b.z+b.w,g&#x3D;-a.z+a.w,h&#x3D;-b.z+b.w;return e&gt;&#x3D;0&amp;&amp;f&gt;&#x3D;0&amp;&amp;g&gt;&#x3D;0&amp;&amp;h&gt;&#x3D;0?!0:e&lt;0&amp;&amp;f&lt;0||g&lt;0&amp;&amp;h&lt;0?!1:(e&lt;0?c&#x3D;Math.max(c,e&#x2F; (e - f)) : f &lt; 0 &amp;&amp; (d &#x3D; Math.min(d, e &#x2F;(e-f))),g&lt;0?c&#x3D;Math.max(c,g&#x2F; (g - h)) : h &lt; 0 &amp;&amp; (d &#x3D; Math.min(d, g &#x2F;(g-h))),d&lt;c?!1:(a.lerpSelf(b,c),b.lerpSelf(a,1-d),!0))}var f,e,g&#x3D;[],h,m,l&#x3D;[],j,i,n&#x3D;[],o,p&#x3D;[],k,s,K&#x3D;[],C,Q,O&#x3D;[],w&#x3D;{objects:[],sprites:[],lights:[],elements:[]},F&#x3D;new THREE.Vector3,z&#x3D;new THREE.Vector4,D&#x3D;new THREE.Matrix4,u&#x3D;new THREE.Matrix4,r&#x3D;[new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4],E&#x3D;new THREE.Vector4,N&#x3D;new THREE.Vector4;this.computeFrustum&#x3D;function(a){r[0].set(a.n41-a.n11,a.n42-a.n12,a.n43-a.n13,a.n44-a.n14);r[1].set(a.n41+a.n11,a.n42+a.n12,a.n43+a.n13,a.n44+a.n14);r[2].set(a.n41+a.n21,a.n42+a.n22,a.n43+a.n23,a.n44+a.n24);r[3].set(a.n41-a.n21,a.n42-a.n22,a.n43-a.n23,a.n44-a.n24);r[4].set(a.n41-a.n31,a.n42-a.n32,a.n43-a.n33,a.n44-a.n34);r[5].set(a.n41+a.n31,a.n42+a.n32,a.n43+a.n33,a.n44+a.n34);for(a&#x3D;0;a&lt;6;a++){var b&#x3D;r[a];b.divideScalar(Math.sqrt(b.x*b.x+b.y*b.y+b.z*b.z))}};this.projectVector&#x3D;function(a,b){b.matrixWorldInverse.getInverse(b.matrixWorld);D.multiply(b.projectionMatrix,b.matrixWorldInverse);D.multiplyVector3(a);return a};this.unprojectVector&#x3D;function(a,b){b.projectionMatrixInverse.getInverse(b.projectionMatrix);D.multiply(b.matrixWorld,b.projectionMatrixInverse);D.multiplyVector3(a);return a};this.pickingRay&#x3D;function(a,b){var c;a.z&#x3D;-1;c&#x3D;new THREE.Vector3(a.x,a.y,1);this.unprojectVector(a,b);this.unprojectVector(c,b);c.subSelf(a).normalize();return new THREE.Ray(a,c)};this.projectGraph&#x3D;function(b,d){e&#x3D;0;w.objects.length&#x3D;0;w.sprites.length&#x3D;0;w.lights.length&#x3D;0;var g&#x3D;function(b){if(b.visible!&#x3D;&#x3D;!1){var c;if(c&#x3D;b instanceof THREE.Mesh||b instanceof THREE.Line)if(!(c&#x3D;b.frustumCulled&#x3D;&#x3D;&#x3D;!1))a:{for(var d&#x3D;b.matrixWorld,e&#x3D;-b.geometry.boundingSphere.radius*Math.max(b.scale.x,Math.max(b.scale.y,b.scale.z)),h&#x3D;0;h&lt;6;h++)if(c&#x3D;r[h].x*d.n14+r[h].y*d.n24+r[h].z*d.n34+r[h].w,c&lt;&#x3D;e){c&#x3D;!1;break a}c&#x3D;!0}c?(D.multiplyVector3(F.copy(b.position)),f&#x3D;a(),f.object&#x3D;b,f.z&#x3D;F.z,w.objects.push(f)):b instanceof THREE.Sprite||b instanceof THREE.Particle?(D.multiplyVector3(F.copy(b.position)),f&#x3D;a(),f.object&#x3D;b,f.z&#x3D;F.z,w.sprites.push(f)):b instanceof THREE.Light&amp;&amp;w.lights.push(b);c&#x3D;0;for(d&#x3D;b.children.length;c&lt;d;c++)g(b.children[c])}};g(b);d&amp;&amp;w.objects.sort(c);return w};this.projectScene&#x3D;function(a,e,f){var g&#x3D;e.near,r&#x3D;e.far,F,L,B,S,v,R,P,V,J,t,A,x,y,M,la,fa;Q&#x3D;s&#x3D;o&#x3D;i&#x3D;0;w.elements.length&#x3D;0;e.parent&#x3D;&#x3D;&#x3D;void 0&amp;&amp;(console.warn(“DEPRECATED: Camera hasn’t been added to a Scene. Adding it…”),a.add(e));a.updateMatrixWorld();e.matrixWorldInverse.getInverse(e.matrixWorld);D.multiply(e.projectionMatrix,e.matrixWorldInverse);this.computeFrustum(D);w&#x3D;this.projectGraph(a,!1);a&#x3D;0;for(F&#x3D;w.objects.length;a&lt;F;a++)if(J&#x3D;w.objects[a].object,t&#x3D;J.matrixWorld,x&#x3D;J.material,m&#x3D;0,J instanceof THREE.Mesh){A&#x3D;J.geometry;y&#x3D;J.geometry.materials;S&#x3D;A.vertices;M&#x3D;A.faces;la&#x3D;A.faceVertexUvs;A&#x3D;J.matrixRotationWorld.extractRotation(t);L&#x3D;0;for(B&#x3D;S.length;L&lt;B;L++)h&#x3D;b(),h.positionWorld.copy(S[L].position),t.multiplyVector3(h.positionWorld),h.positionScreen.copy(h.positionWorld),D.multiplyVector4(h.positionScreen),h.positionScreen.x&#x2F;&#x3D; h.positionScreen.w, h.positionScreen.y &#x2F;&#x3D;h.positionScreen.w,h.visible&#x3D;h.positionScreen.z&gt;g&amp;&amp;h.positionScreen.z&lt;r;S&#x3D;0;for(L&#x3D;M.length;S&lt;L;S++){B&#x3D;M[S];if(B instanceof THREE.Face3)if(v&#x3D;l[B.a],R&#x3D;l[B.b],P&#x3D;l[B.c],v.visible&amp;&amp;R.visible&amp;&amp;P.visible&amp;&amp;(J.doubleSided||J.flipSided!&#x3D;(P.positionScreen.x-v.positionScreen.x)*(R.positionScreen.y-v.positionScreen.y)-(P.positionScreen.y-v.positionScreen.y)*(R.positionScreen.x-v.positionScreen.x)&lt;0))V&#x3D;n[i]&#x3D;n[i]||new THREE.RenderableFace3,i++,j&#x3D;V,j.v1.copy(v),j.v2.copy(R),j.v3.copy(P);else continue;else if(B instanceof THREE.Face4)if(v&#x3D;l[B.a],R&#x3D;l[B.b],P&#x3D;l[B.c],V&#x3D;l[B.d],v.visible&amp;&amp;R.visible&amp;&amp;P.visible&amp;&amp;V.visible&amp;&amp;(J.doubleSided||J.flipSided!&#x3D;((V.positionScreen.x-v.positionScreen.x)*(R.positionScreen.y-v.positionScreen.y)-(V.positionScreen.y-v.positionScreen.y)*(R.positionScreen.x-v.positionScreen.x)&lt;0||(R.positionScreen.x-P.positionScreen.x)*(V.positionScreen.y-P.positionScreen.y)-(R.positionScreen.y-P.positionScreen.y)*(V.positionScreen.x-P.positionScreen.x)&lt;0)))fa&#x3D;p[o]&#x3D;p[o]||new THREE.RenderableFace4,o++,j&#x3D;fa,j.v1.copy(v),j.v2.copy(R),j.v3.copy(P),j.v4.copy(V);else continue;j.normalWorld.copy(B.normal);A.multiplyVector3(j.normalWorld);j.centroidWorld.copy(B.centroid);t.multiplyVector3(j.centroidWorld);j.centroidScreen.copy(j.centroidWorld);D.multiplyVector3(j.centroidScreen);P&#x3D;B.vertexNormals;v&#x3D;0;for(R&#x3D;P.length;v&lt;R;v++)V&#x3D;j.vertexNormalsWorld[v],V.copy(P[v]),A.multiplyVector3(V);v&#x3D;0;for(R&#x3D;la.length;v&lt;R;v++)if(fa&#x3D;la[v][S]){P&#x3D;0;for(V&#x3D;fa.length;P&lt;V;P++)j.uvs[v][P]&#x3D;fa[P]}j.material&#x3D;x;j.faceMaterial&#x3D;B.materialIndex!&#x3D;&#x3D;null?y[B.materialIndex]:null;j.z&#x3D;j.centroidScreen.z;w.elements.push(j)}}else if(J instanceof THREE.Line){u.multiply(D,t);S&#x3D;J.geometry.vertices;v&#x3D;b();v.positionScreen.copy(S[0].position);u.multiplyVector4(v.positionScreen);L&#x3D;1;for(B&#x3D;S.length;L&lt;B;L++)if(v&#x3D;b(),v.positionScreen.copy(S[L].position),u.multiplyVector4(v.positionScreen),R&#x3D;l[m-2],E.copy(v.positionScreen),N.copy(R.positionScreen),d(E,N))E.multiplyScalar(1&#x2F; E.w), N.multiplyScalar(1 &#x2F;N.w),J&#x3D;K[s]&#x3D;K[s]||new THREE.RenderableLine,s++,k&#x3D;J,k.v1.positionScreen.copy(E),k.v2.positionScreen.copy(N),k.z&#x3D;Math.max(E.z,N.z),k.material&#x3D;x,w.elements.push(k)}a&#x3D;0;for(F&#x3D;w.sprites.length;a&lt;F;a++)if(J&#x3D;w.sprites[a].object,t&#x3D;J.matrixWorld,J instanceof THREE.Particle&amp;&amp;(z.set(t.n14,t.n24,t.n34,1),D.multiplyVector4(z),z.z&#x2F;&#x3D; z.w, z.z &gt; 0 &amp;&amp; z.z &lt; 1))g &#x3D; O[Q] &#x3D; O[Q] || new THREE.RenderableParticle, Q++, C &#x3D; g, C.x &#x3D; z.x &#x2F;z.w,C.y&#x3D;z.y&#x2F; z.w, C.z &#x3D; z.z, C.rotation &#x3D; J.rotation.z, C.scale.x &#x3D; J.scale.x * Math.abs(C.x - (z.x + e.projectionMatrix.n11) &#x2F;(z.w+e.projectionMatrix.n14)),C.scale.y&#x3D;J.scale.y*Math.abs(C.y-(z.y+e.projectionMatrix.n22)&#x2F;(z.w+e.projectionMatrix.n24)),C.material&#x3D;J.material,w.elements.push(C);f&amp;&amp;w.elements.sort(c);return w}};THREE.Quaternion&#x3D;function(a,b,c,d){this.set(a||0,b||0,c||0,d!&#x3D;&#x3D;void 0?d:1)};THREE.Quaternion.prototype&#x3D;{constructor:THREE.Quaternion,set:function(a,b,c,d){this.x&#x3D;a;this.y&#x3D;b;this.z&#x3D;c;this.w&#x3D;d;return this},copy:function(a){this.x&#x3D;a.x;this.y&#x3D;a.y;this.z&#x3D;a.z;this.w&#x3D;a.w;return this},setFromEuler:function(a){var b&#x3D;Math.PI&#x2F;360,c&#x3D;a.x*b,d&#x3D;a.y*b,f&#x3D;a.z*b,a&#x3D;Math.cos(d),d&#x3D;Math.sin(d),b&#x3D;Math.cos(-f),f&#x3D;Math.sin(-f),e&#x3D;Math.cos(c),c&#x3D;Math.sin(c),g&#x3D;a*b,h&#x3D;d*f;this.w&#x3D;g*e-h*c;this.x&#x3D;g*c+h*e;this.y&#x3D;d*b*e+a*f*c;this.z&#x3D;a*f*e-d*b*c;return this},setFromAxisAngle:function(a,b){var c&#x3D;b&#x2F;2,d&#x3D;Math.sin(c);this.x&#x3D;a.x*d;this.y&#x3D;a.y*d;this.z&#x3D;a.z*d;this.w&#x3D;Math.cos(c);return this},setFromRotationMatrix:function(a){var b&#x3D;Math.pow(a.determinant(),1&#x2F;3);this.w&#x3D;Math.sqrt(Math.max(0,b+a.n11+a.n22+a.n33))&#x2F;2;this.x&#x3D;Math.sqrt(Math.max(0,b+a.n11-a.n22-a.n33))&#x2F;2;this.y&#x3D;Math.sqrt(Math.max(0,b-a.n11+a.n22-a.n33))&#x2F;2;this.z&#x3D;Math.sqrt(Math.max(0,b-a.n11-a.n22+a.n33))&#x2F;2;this.x&#x3D;a.n32-a.n23&lt;0?-Math.abs(this.x):Math.abs(this.x);this.y&#x3D;a.n13-a.n31&lt;0?-Math.abs(this.y):Math.abs(this.y);this.z&#x3D;a.n21-a.n12&lt;0?-Math.abs(this.z):Math.abs(this.z);this.normalize();return this},calculateW:function(){this.w&#x3D;-Math.sqrt(Math.abs(1-this.x*this.x-this.y*this.y-this.z*this.z));return this},inverse:function(){this.x*&#x3D;-1;this.y*&#x3D;-1;this.z*&#x3D;-1;return this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var a&#x3D;Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);a&#x3D;&#x3D;&#x3D;0?this.w&#x3D;this.z&#x3D;this.y&#x3D;this.x&#x3D;0:(a&#x3D;1&#x2F;a,this.x*&#x3D;a,this.y*&#x3D;a,this.z*&#x3D;a,this.w*&#x3D;a);return this},multiplySelf:function(a){var b&#x3D;this.x,c&#x3D;this.y,d&#x3D;this.z,f&#x3D;this.w,e&#x3D;a.x,g&#x3D;a.y,h&#x3D;a.z,a&#x3D;a.w;this.x&#x3D;b*a+f*e+c*h-d*g;this.y&#x3D;c*a+f*g+d*e-b*h;this.z&#x3D;d*a+f*h+b*g-c*e;this.w&#x3D;f*a-b*e-c*g-d*h;return this},multiply:function(a,b){this.x&#x3D;a.x*b.w+a.y*b.z-a.z*b.y+a.w*b.x;this.y&#x3D;-a.x*b.z+a.y*b.w+a.z*b.x+a.w*b.y;this.z&#x3D;a.x*b.y-a.y*b.x+a.z*b.w+a.w*b.z;this.w&#x3D;-a.x*b.x-a.y*b.y-a.z*b.z+a.w*b.w;return this},multiplyVector3:function(a,b){b||(b&#x3D;a);var c&#x3D;a.x,d&#x3D;a.y,f&#x3D;a.z,e&#x3D;this.x,g&#x3D;this.y,h&#x3D;this.z,m&#x3D;this.w,l&#x3D;m*c+g*f-h*d,j&#x3D;m*d+h*c-e*f,i&#x3D;m*f+e*d-g*c,c&#x3D;-e*c-g*d-h*f;b.x&#x3D;l*m+c*-e+j*-h-i*-g;b.y&#x3D;j*m+c*-g+i*-e-l*-h;b.z&#x3D;i*m+c*-h+l*-g-j*-e;return b}};THREE.Quaternion.slerp&#x3D;function(a,b,c,d){var f&#x3D;a.w*b.w+a.x*b.x+a.y*b.y+a.z*b.z;f&lt;0?(c.w&#x3D;-b.w,c.x&#x3D;-b.x,c.y&#x3D;-b.y,c.z&#x3D;-b.z,f&#x3D;-f):c.copy(b);if(Math.abs(f)&gt;&#x3D;1)return c.w&#x3D;a.w,c.x&#x3D;a.x,c.y&#x3D;a.y,c.z&#x3D;a.z,c;var e&#x3D;Math.acos(f),f&#x3D;Math.sqrt(1-f</em>f);if(Math.abs(f)&lt;0.001)return c.w&#x3D;0.5*(a.w+b.w),c.x&#x3D;0.5*(a.x+b.x),c.y&#x3D;0.5*(a.y+b.y),c.z&#x3D;0.5*(a.z+b.z),c;b&#x3D;Math.sin((1-d)<em>e)&#x2F;f;d&#x3D;Math.sin(d<em>e)&#x2F;f;c.w&#x3D;a.w</em>b+c.w<em>d;c.x&#x3D;a.x</em>b+c.x<em>d;c.y&#x3D;a.y</em>b+c.y<em>d;c.z&#x3D;a.z</em>b+c.z*d;return c};THREE.Vertex&#x3D;function(a){this.position&#x3D;a||new THREE.Vector3};THREE.Face3&#x3D;function(a,b,c,d,f,e){this.a&#x3D;a;this.b&#x3D;b;this.c&#x3D;c;this.normal&#x3D;d instanceof THREE.Vector3?d:new THREE.Vector3;this.vertexNormals&#x3D;d instanceof Array?d:[];this.color&#x3D;f instanceof THREE.Color?f:new THREE.Color;this.vertexColors&#x3D;f instanceof Array?f:[];this.vertexTangents&#x3D;[];this.materialIndex&#x3D;e;this.centroid&#x3D;new THREE.Vector3};THREE.Face4&#x3D;function(a,b,c,d,f,e,g){this.a&#x3D;a;this.b&#x3D;b;this.c&#x3D;c;this.d&#x3D;d;this.normal&#x3D;f instanceof THREE.Vector3?f:new THREE.Vector3;this.vertexNormals&#x3D;f instanceof Array?f:[];this.color&#x3D;e instanceof THREE.Color?e:new THREE.Color;this.vertexColors&#x3D;e instanceof Array?e:[];this.vertexTangents&#x3D;[];this.materialIndex&#x3D;g;this.centroid&#x3D;new THREE.Vector3};THREE.UV&#x3D;function(a,b){this.u&#x3D;a||0;this.v&#x3D;b||0};THREE.UV.prototype&#x3D;{constructor:THREE.UV,set:function(a,b){this.u&#x3D;a;this.v&#x3D;b;return this},copy:function(a){this.u&#x3D;a.u;this.v&#x3D;a.v;return this},clone:function(){return new THREE.UV(this.u,this.v)}};THREE.Geometry&#x3D;function(){this.id&#x3D;THREE.GeometryCount++;this.vertices&#x3D;[];this.colors&#x3D;[];this.materials&#x3D;[];this.faces&#x3D;[];this.faceUvs&#x3D;[[]];this.faceVertexUvs&#x3D;[[]];this.morphTargets&#x3D;[];this.morphColors&#x3D;[];this.skinWeights&#x3D;[];this.skinIndices&#x3D;[];this.boundingSphere&#x3D;this.boundingBox&#x3D;null;this.dynamic&#x3D;this.hasTangents&#x3D;!1};THREE.Geometry.prototype&#x3D;{constructor:THREE.Geometry,applyMatrix:function(a){var b&#x3D;new THREE.Matrix4;b.extractRotation(a,new THREE.Vector3(1,1,1));for(var c&#x3D;0,d&#x3D;this.vertices.length;c&lt;d;c++)a.multiplyVector3(this.vertices[c].position);c&#x3D;0;for(d&#x3D;this.faces.length;c&lt;d;c++){var f&#x3D;this.faces[c];b.multiplyVector3(f.normal);for(var e&#x3D;0,g&#x3D;f.vertexNormals.length;e&lt;g;e++)b.multiplyVector3(f.vertexNormals[e]);a.multiplyVector3(f.centroid)}},computeCentroids:function(){var a,b,c;a&#x3D;0;for(b&#x3D;this.faces.length;a&lt;b;a++)c&#x3D;this.faces[a],c.centroid.set(0,0,0),c instanceof THREE.Face3?(c.centroid.addSelf(this.vertices[c.a].position),c.centroid.addSelf(this.vertices[c.b].position),c.centroid.addSelf(this.vertices[c.c].position),c.centroid.divideScalar(3)):c instanceof THREE.Face4&amp;&amp;(c.centroid.addSelf(this.vertices[c.a].position),c.centroid.addSelf(this.vertices[c.b].position),c.centroid.addSelf(this.vertices[c.c].position),c.centroid.addSelf(this.vertices[c.d].position),c.centroid.divideScalar(4))},computeFaceNormals:function(){var a,b,c,d,f,e,g&#x3D;new THREE.Vector3,h&#x3D;new THREE.Vector3;a&#x3D;0;for(b&#x3D;this.faces.length;a&lt;b;a++)c&#x3D;this.faces[a],d&#x3D;this.vertices[c.a],f&#x3D;this.vertices[c.b],e&#x3D;this.vertices[c.c],g.sub(e.position,f.position),h.sub(d.position,f.position),g.crossSelf(h),g.isZero()||g.normalize(),c.normal.copy(g)},computeVertexNormals:function(){var a,b,c,d;if(this.__tmpVertices&#x3D;&#x3D;&#x3D;void 0){d&#x3D;this.__tmpVertices&#x3D;Array(this.vertices.length);a&#x3D;0;for(b&#x3D;this.vertices.length;a&lt;b;a++)d[a]&#x3D;new THREE.Vector3;a&#x3D;0;for(b&#x3D;this.faces.length;a&lt;b;a++)if(c&#x3D;this.faces[a],c instanceof THREE.Face3)c.vertexNormals&#x3D;[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];else if(c instanceof THREE.Face4)c.vertexNormals&#x3D;[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]}else{d&#x3D;this.__tmpVertices;a&#x3D;0;for(b&#x3D;this.vertices.length;a&lt;b;a++)d[a].set(0,0,0)}a&#x3D;0;for(b&#x3D;this.faces.length;a&lt;b;a++)c&#x3D;this.faces[a],c instanceof THREE.Face3?(d[c.a].addSelf(c.normal),d[c.b].addSelf(c.normal),d[c.c].addSelf(c.normal)):c instanceof THREE.Face4&amp;&amp;(d[c.a].addSelf(c.normal),d[c.b].addSelf(c.normal),d[c.c].addSelf(c.normal),d[c.d].addSelf(c.normal));a&#x3D;0;for(b&#x3D;this.vertices.length;a&lt;b;a++)d[a].normalize();a&#x3D;0;for(b&#x3D;this.faces.length;a&lt;b;a++)c&#x3D;this.faces[a],c instanceof THREE.Face3?(c.vertexNormals[0].copy(d[c.a]),c.vertexNormals[1].copy(d[c.b]),c.vertexNormals[2].copy(d[c.c])):c instanceof THREE.Face4&amp;&amp;(c.vertexNormals[0].copy(d[c.a]),c.vertexNormals[1].copy(d[c.b]),c.vertexNormals[2].copy(d[c.c]),c.vertexNormals[3].copy(d[c.d]))},computeTangents:function(){function a(a,b,c,d,e,f,D){h&#x3D;a.vertices[b].position;m&#x3D;a.vertices[c].position;l&#x3D;a.vertices[d].position;j&#x3D;g[e];i&#x3D;g[f];n&#x3D;g[D];o&#x3D;m.x-h.x;p&#x3D;l.x-h.x;k&#x3D;m.y-h.y;s&#x3D;l.y-h.y;K&#x3D;m.z-h.z;C&#x3D;l.z-h.z;Q&#x3D;i.u-j.u;O&#x3D;n.u-j.u;w&#x3D;i.v-j.v;F&#x3D;n.v-j.v;z&#x3D;1&#x2F;(Q*F-O*w);E.set((F*o-w*p)*z,(F*k-w*s)*z,(F*K-w*C)*z);N.set((Q*p-O*o)*z,(Q*s-O*k)*z,(Q*C-O*K)*z);u[b].addSelf(E);u[c].addSelf(E);u[d].addSelf(E);r[b].addSelf(N);r[c].addSelf(N);r[d].addSelf(N)}var b,c,d,f,e,g,h,m,l,j,i,n,o,p,k,s,K,C,Q,O,w,F,z,D,u&#x3D;[],r&#x3D;[],E&#x3D;new THREE.Vector3,N&#x3D;new THREE.Vector3,W&#x3D;new THREE.Vector3,da&#x3D;new THREE.Vector3,G&#x3D;new THREE.Vector3;b&#x3D;0;for(c&#x3D;this.vertices.length;b&lt;c;b++)u[b]&#x3D;new THREE.Vector3,r[b]&#x3D;new THREE.Vector3;b&#x3D;0;for(c&#x3D;this.faces.length;b&lt;c;b++)e&#x3D;this.faces[b],g&#x3D;this.faceVertexUvs[0][b],e instanceof THREE.Face3?a(this,e.a,e.b,e.c,0,1,2):e instanceof THREE.Face4&amp;&amp;(a(this,e.a,e.b,e.c,0,1,2),a(this,e.a,e.b,e.d,0,1,3));var H&#x3D;[“a”,”b”,”c”,”d”];b&#x3D;0;for(c&#x3D;this.faces.length;b&lt;c;b++){e&#x3D;this.faces[b];for(d&#x3D;0;d&lt;e.vertexNormals.length;d++)G.copy(e.vertexNormals[d]),f&#x3D;e[H[d]],D&#x3D;u[f],W.copy(D),W.subSelf(G.multiplyScalar(G.dot(D))).normalize(),da.cross(e.vertexNormals[d],D),f&#x3D;da.dot(r[f]),f&#x3D;f&lt;0?-1:1,e.vertexTangents[d]&#x3D;new THREE.Vector4(W.x,W.y,W.z,f)}this.hasTangents&#x3D;!0},computeBoundingBox:function(){var a;if(this.vertices.length&gt;0){this.boundingBox&#x3D;{x:[this.vertices[0].position.x,this.vertices[0].position.x],y:[this.vertices[0].position.y,this.vertices[0].position.y],z:[this.vertices[0].position.z,this.vertices[0].position.z]};for(var b&#x3D;1,c&#x3D;this.vertices.length;b&lt;c;b++){a&#x3D;this.vertices[b];if(a.position.x&lt;this.boundingBox.x[0])this.boundingBox.x[0]&#x3D;a.position.x;else if(a.position.x&gt;this.boundingBox.x[1])this.boundingBox.x[1]&#x3D;a.position.x;if(a.position.y&lt;this.boundingBox.y[0])this.boundingBox.y[0]&#x3D;a.position.y;else if(a.position.y&gt;this.boundingBox.y[1])this.boundingBox.y[1]&#x3D;a.position.y;if(a.position.z&lt;this.boundingBox.z[0])this.boundingBox.z[0]&#x3D;a.position.z;else if(a.position.z&gt;this.boundingBox.z[1])this.boundingBox.z[1]&#x3D;a.position.z}}},computeBoundingSphere:function(){for(var a&#x3D;0,b&#x3D;0,c&#x3D;this.vertices.length;b&lt;c;b++)a&#x3D;Math.max(a,this.vertices[b].position.length());this.boundingSphere&#x3D;{radius:a}},mergeVertices:function(){var a&#x3D;{},b&#x3D;[],c&#x3D;[],d,f&#x3D;Math.pow(10,4),e,g;e&#x3D;0;for(g&#x3D;this.vertices.length;e&lt;g;e++)d&#x3D;this.vertices[e].position,d&#x3D;[Math.round(d.x*f),Math.round(d.y*f),Math.round(d.z*f)].join(“_”),a[d]&#x3D;&#x3D;&#x3D;void 0?(a[d]&#x3D;e,b.push(this.vertices[e]),c[e]&#x3D;b.length-1):c[e]&#x3D;c[a[d]];e&#x3D;0;for(g&#x3D;this.faces.length;e&lt;g;e++)if(a&#x3D;this.faces[e],a instanceof THREE.Face3)a.a&#x3D;c[a.a],a.b&#x3D;c[a.b],a.c&#x3D;c[a.c];else if(a instanceof THREE.Face4)a.a&#x3D;c[a.a],a.b&#x3D;c[a.b],a.c&#x3D;c[a.c],a.d&#x3D;c[a.d];this.vertices&#x3D;b}};THREE.GeometryCount&#x3D;0;THREE.Camera&#x3D;function(){if(arguments.length)return console.warn(“DEPRECATED: Camera() is now PerspectiveCamera() or OrthographicCamera().”),new THREE.PerspectiveCamera(arguments[0],arguments[1],arguments[2],arguments[3]);THREE.Object3D.call(this);this.matrixWorldInverse&#x3D;new THREE.Matrix4;this.projectionMatrix&#x3D;new THREE.Matrix4;this.projectionMatrixInverse&#x3D;new THREE.Matrix4};THREE.Camera.prototype&#x3D;new THREE.Object3D;THREE.Camera.prototype.constructor&#x3D;THREE.Camera;THREE.Camera.prototype.lookAt&#x3D;function(a){this.matrix.lookAt(this.position,a,this.up);this.rotationAutoUpdate&amp;&amp;this.rotation.setRotationFromMatrix(this.matrix)};THREE.OrthographicCamera&#x3D;function(a,b,c,d,f,e){THREE.Camera.call(this);this.left&#x3D;a;this.right&#x3D;b;this.top&#x3D;c;this.bottom&#x3D;d;this.near&#x3D;f!&#x3D;&#x3D;void 0?f:0.1;this.far&#x3D;e!&#x3D;&#x3D;void 0?e:2E3;this.updateProjectionMatrix()};THREE.OrthographicCamera.prototype&#x3D;new THREE.Camera;THREE.OrthographicCamera.prototype.constructor&#x3D;THREE.OrthographicCamera;THREE.OrthographicCamera.prototype.updateProjectionMatrix&#x3D;function(){this.projectionMatrix&#x3D;THREE.Matrix4.makeOrtho(this.left,this.right,this.top,this.bottom,this.near,this.far)};THREE.PerspectiveCamera&#x3D;function(a,b,c,d){THREE.Camera.call(this);this.fov&#x3D;a!&#x3D;&#x3D;void 0?a:50;this.aspect&#x3D;b!&#x3D;&#x3D;void 0?b:1;this.near&#x3D;c!&#x3D;&#x3D;void 0?c:0.1;this.far&#x3D;d!&#x3D;&#x3D;void 0?d:2E3;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype&#x3D;new THREE.Camera;THREE.PerspectiveCamera.prototype.constructor&#x3D;THREE.PerspectiveCamera;THREE.PerspectiveCamera.prototype.setLens&#x3D;function(a,b){this.fov&#x3D;2*Math.atan((b!&#x3D;&#x3D;void 0?b:43.25)&#x2F;(a*2));this.fov*&#x3D;180&#x2F;Math.PI;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.setViewOffset&#x3D;function(a,b,c,d,f,e){this.fullWidth&#x3D;a;this.fullHeight&#x3D;b;this.x&#x3D;c;this.y&#x3D;d;this.width&#x3D;f;this.height&#x3D;e;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.updateProjectionMatrix&#x3D;function(){if(this.fullWidth){var a&#x3D;this.fullWidth&#x2F; this.fullHeight, b &#x3D; Math.tan(this.fov * Math.PI &#x2F;360)*this.near,c&#x3D;-b,d&#x3D;a*c,a&#x3D;Math.abs(a*b-d),c&#x3D;Math.abs(b-c);this.projectionMatrix&#x3D;THREE.Matrix4.makeFrustum(d+this.x*a&#x2F; this.fullWidth, d + (this.x + this.width) * a &#x2F;this.fullWidth,b-(this.y+this.height)*c&#x2F; this.fullHeight, b - this.y * c &#x2F;this.fullHeight,this.near,this.far)}else this.projectionMatrix&#x3D;THREE.Matrix4.makePerspective(this.fov,this.aspect,this.near,this.far)};THREE.Light&#x3D;function(a){THREE.Object3D.call(this);this.color&#x3D;new THREE.Color(a)};THREE.Light.prototype&#x3D;new THREE.Object3D;THREE.Light.prototype.constructor&#x3D;THREE.Light;THREE.Light.prototype.supr&#x3D;THREE.Object3D.prototype;THREE.AmbientLight&#x3D;function(a){THREE.Light.call(this,a)};THREE.AmbientLight.prototype&#x3D;new THREE.Light;THREE.AmbientLight.prototype.constructor&#x3D;THREE.AmbientLight;THREE.DirectionalLight&#x3D;function(a,b,c){THREE.Light.call(this,a);this.position&#x3D;new THREE.Vector3(0,1,0);this.intensity&#x3D;b!&#x3D;&#x3D;void 0?b:1;this.distance&#x3D;c!&#x3D;&#x3D;void 0?c:0};THREE.DirectionalLight.prototype&#x3D;new THREE.Light;THREE.DirectionalLight.prototype.constructor&#x3D;THREE.DirectionalLight;THREE.PointLight&#x3D;function(a,b,c){THREE.Light.call(this,a);this.position&#x3D;new THREE.Vector3(0,0,0);this.intensity&#x3D;b!&#x3D;&#x3D;void 0?b:1;this.distance&#x3D;c!&#x3D;&#x3D;void 0?c:0};THREE.PointLight.prototype&#x3D;new THREE.Light;THREE.PointLight.prototype.constructor&#x3D;THREE.PointLight;THREE.Material&#x3D;function(a){this.name&#x3D;””;this.id&#x3D;THREE.MaterialCount++;a&#x3D;a||{};this.opacity&#x3D;a.opacity!&#x3D;&#x3D;void 0?a.opacity:1;this.transparent&#x3D;a.transparent!&#x3D;&#x3D;void 0?a.transparent:!1;this.blending&#x3D;a.blending!&#x3D;&#x3D;void 0?a.blending:THREE.NormalBlending;this.depthTest&#x3D;a.depthTest!&#x3D;&#x3D;void 0?a.depthTest:!0;this.depthWrite&#x3D;a.depthWrite!&#x3D;&#x3D;void 0?a.depthWrite:!0;this.polygonOffset&#x3D;a.polygonOffset!&#x3D;&#x3D;void 0?a.polygonOffset:!1;this.polygonOffsetFactor&#x3D;a.polygonOffsetFactor!&#x3D;&#x3D;void 0?a.polygonOffsetFactor:0;this.polygonOffsetUnits&#x3D;a.polygonOffsetUnits!&#x3D;&#x3D;void 0?a.polygonOffsetUnits:0;this.alphaTest&#x3D;a.alphaTest!&#x3D;&#x3D;void 0?a.alphaTest:0;this.overdraw&#x3D;a.overdraw!&#x3D;&#x3D;void 0?a.overdraw:!1};THREE.MaterialCount&#x3D;0;THREE.NoShading&#x3D;0;THREE.FlatShading&#x3D;1;THREE.SmoothShading&#x3D;2;THREE.NoColors&#x3D;0;THREE.FaceColors&#x3D;1;THREE.VertexColors&#x3D;2;THREE.NormalBlending&#x3D;0;THREE.AdditiveBlending&#x3D;1;THREE.SubtractiveBlending&#x3D;2;THREE.MultiplyBlending&#x3D;3;THREE.AdditiveAlphaBlending&#x3D;4;THREE.LineBasicMaterial&#x3D;function(a){THREE.Material.call(this,a);a&#x3D;a||{};this.color&#x3D;a.color!&#x3D;&#x3D;void 0?new THREE.Color(a.color):new THREE.Color(16777215);this.linewidth&#x3D;a.linewidth!&#x3D;&#x3D;void 0?a.linewidth:1;this.linecap&#x3D;a.linecap!&#x3D;&#x3D;void 0?a.linecap:”round”;this.linejoin&#x3D;a.linejoin!&#x3D;&#x3D;void 0?a.linejoin:”round”;this.vertexColors&#x3D;a.vertexColors?a.vertexColors:!1;this.fog&#x3D;a.fog!&#x3D;&#x3D;void 0?a.fog:!0};THREE.LineBasicMaterial.prototype&#x3D;new THREE.Material;THREE.LineBasicMaterial.prototype.constructor&#x3D;THREE.LineBasicMaterial;THREE.MeshBasicMaterial&#x3D;function(a){THREE.Material.call(this,a);a&#x3D;a||{};this.color&#x3D;a.color!&#x3D;&#x3D;void 0?new THREE.Color(a.color):new THREE.Color(16777215);this.map&#x3D;a.map!&#x3D;&#x3D;void 0?a.map:null;this.lightMap&#x3D;a.lightMap!&#x3D;&#x3D;void 0?a.lightMap:null;this.envMap&#x3D;a.envMap!&#x3D;&#x3D;void 0?a.envMap:null;this.combine&#x3D;a.combine!&#x3D;&#x3D;void 0?a.combine:THREE.MultiplyOperation;this.reflectivity&#x3D;a.reflectivity!&#x3D;&#x3D;void 0?a.reflectivity:1;this.refractionRatio&#x3D;a.refractionRatio!&#x3D;&#x3D;void 0?a.refractionRatio:0.98;this.fog&#x3D;a.fog!&#x3D;&#x3D;void 0?a.fog:!0;this.shading&#x3D;a.shading!&#x3D;&#x3D;void 0?a.shading:THREE.SmoothShading;this.wireframe&#x3D;a.wireframe!&#x3D;&#x3D;void 0?a.wireframe:!1;this.wireframeLinewidth&#x3D;a.wireframeLinewidth!&#x3D;&#x3D;void 0?a.wireframeLinewidth:1;this.wireframeLinecap&#x3D;a.wireframeLinecap!&#x3D;&#x3D;void 0?a.wireframeLinecap:”round”;this.wireframeLinejoin&#x3D;a.wireframeLinejoin!&#x3D;&#x3D;void 0?a.wireframeLinejoin:”round”;this.vertexColors&#x3D;a.vertexColors!&#x3D;&#x3D;void 0?a.vertexColors:!1;this.skinning&#x3D;a.skinning!&#x3D;&#x3D;void 0?a.skinning:!1;this.morphTargets&#x3D;a.morphTargets!&#x3D;&#x3D;void 0?a.morphTargets:!1};THREE.MeshBasicMaterial.prototype&#x3D;new THREE.Material;THREE.MeshBasicMaterial.prototype.constructor&#x3D;THREE.MeshBasicMaterial;THREE.MeshLambertMaterial&#x3D;function(a){THREE.Material.call(this,a);a&#x3D;a||{};this.color&#x3D;a.color!&#x3D;&#x3D;void 0?new THREE.Color(a.color):new THREE.Color(16777215);this.ambient&#x3D;a.ambient!&#x3D;&#x3D;void 0?new THREE.Color(a.ambient):new THREE.Color(328965);this.map&#x3D;a.map!&#x3D;&#x3D;void 0?a.map:null;this.lightMap&#x3D;a.lightMap!&#x3D;&#x3D;void 0?a.lightMap:null;this.envMap&#x3D;a.envMap!&#x3D;&#x3D;void 0?a.envMap:null;this.combine&#x3D;a.combine!&#x3D;&#x3D;void 0?a.combine:THREE.MultiplyOperation;this.reflectivity&#x3D;a.reflectivity!&#x3D;&#x3D;void 0?a.reflectivity:1;this.refractionRatio&#x3D;a.refractionRatio!&#x3D;&#x3D;void 0?a.refractionRatio:0.98;this.fog&#x3D;a.fog!&#x3D;&#x3D;void 0?a.fog:!0;this.shading&#x3D;a.shading!&#x3D;&#x3D;void 0?a.shading:THREE.SmoothShading;this.wireframe&#x3D;a.wireframe!&#x3D;&#x3D;void 0?a.wireframe:!1;this.wireframeLinewidth&#x3D;a.wireframeLinewidth!&#x3D;&#x3D;void 0?a.wireframeLinewidth:1;this.wireframeLinecap&#x3D;a.wireframeLinecap!&#x3D;&#x3D;void 0?a.wireframeLinecap:”round”;this.wireframeLinejoin&#x3D;a.wireframeLinejoin!&#x3D;&#x3D;void 0?a.wireframeLinejoin:”round”;this.vertexColors&#x3D;a.vertexColors!&#x3D;&#x3D;void 0?a.vertexColors:!1;this.skinning&#x3D;a.skinning!&#x3D;&#x3D;void 0?a.skinning:!1;this.morphTargets&#x3D;a.morphTargets!&#x3D;&#x3D;void 0?a.morphTargets:!1};THREE.MeshLambertMaterial.prototype&#x3D;new THREE.Material;THREE.MeshLambertMaterial.prototype.constructor&#x3D;THREE.MeshLambertMaterial;THREE.MeshPhongMaterial&#x3D;function(a){THREE.Material.call(this,a);a&#x3D;a||{};this.color&#x3D;a.color!&#x3D;&#x3D;void 0?new THREE.Color(a.color):new THREE.Color(16777215);this.ambient&#x3D;a.ambient!&#x3D;&#x3D;void 0?new THREE.Color(a.ambient):new THREE.Color(328965);this.specular&#x3D;a.specular!&#x3D;&#x3D;void 0?new THREE.Color(a.specular):new THREE.Color(1118481);this.shininess&#x3D;a.shininess!&#x3D;&#x3D;void 0?a.shininess:30;this.metal&#x3D;a.metal!&#x3D;&#x3D;void 0?a.metal:!1;this.perPixel&#x3D;a.perPixel!&#x3D;&#x3D;void 0?a.perPixel:!1;this.map&#x3D;a.map!&#x3D;&#x3D;void 0?a.map:null;this.lightMap&#x3D;a.lightMap!&#x3D;&#x3D;void 0?a.lightMap:null;this.envMap&#x3D;a.envMap!&#x3D;&#x3D;void 0?a.envMap:null;this.combine&#x3D;a.combine!&#x3D;&#x3D;void 0?a.combine:THREE.MultiplyOperation;this.reflectivity&#x3D;a.reflectivity!&#x3D;&#x3D;void 0?a.reflectivity:1;this.refractionRatio&#x3D;a.refractionRatio!&#x3D;&#x3D;void 0?a.refractionRatio:0.98;this.fog&#x3D;a.fog!&#x3D;&#x3D;void 0?a.fog:!0;this.shading&#x3D;a.shading!&#x3D;&#x3D;void 0?a.shading:THREE.SmoothShading;this.wireframe&#x3D;a.wireframe!&#x3D;&#x3D;void 0?a.wireframe:!1;this.wireframeLinewidth&#x3D;a.wireframeLinewidth!&#x3D;&#x3D;void 0?a.wireframeLinewidth:1;this.wireframeLinecap&#x3D;a.wireframeLinecap!&#x3D;&#x3D;void 0?a.wireframeLinecap:”round”;this.wireframeLinejoin&#x3D;a.wireframeLinejoin!&#x3D;&#x3D;void 0?a.wireframeLinejoin:”round”;this.vertexColors&#x3D;a.vertexColors!&#x3D;&#x3D;void 0?a.vertexColors:!1;this.skinning&#x3D;a.skinning!&#x3D;&#x3D;void 0?a.skinning:!1;this.morphTargets&#x3D;a.morphTargets!&#x3D;&#x3D;void 0?a.morphTargets:!1};THREE.MeshPhongMaterial.prototype&#x3D;new THREE.Material;THREE.MeshPhongMaterial.prototype.constructor&#x3D;THREE.MeshPhongMaterial;THREE.MeshDepthMaterial&#x3D;function(a){THREE.Material.call(this,a);a&#x3D;a||{};this.shading&#x3D;a.shading!&#x3D;&#x3D;void 0?a.shading:THREE.SmoothShading;this.wireframe&#x3D;a.wireframe!&#x3D;&#x3D;void 0?a.wireframe:!1;this.wireframeLinewidth&#x3D;a.wireframeLinewidth!&#x3D;&#x3D;void 0?a.wireframeLinewidth:1};THREE.MeshDepthMaterial.prototype&#x3D;new THREE.Material;THREE.MeshDepthMaterial.prototype.constructor&#x3D;THREE.MeshDepthMaterial;THREE.MeshNormalMaterial&#x3D;function(a){THREE.Material.call(this,a);a&#x3D;a||{};this.shading&#x3D;a.shading?a.shading:THREE.FlatShading;this.wireframe&#x3D;a.wireframe?a.wireframe:!1;this.wireframeLinewidth&#x3D;a.wireframeLinewidth?a.wireframeLinewidth:1};THREE.MeshNormalMaterial.prototype&#x3D;new THREE.Material;THREE.MeshNormalMaterial.prototype.constructor&#x3D;THREE.MeshNormalMaterial;THREE.MeshFaceMaterial&#x3D;function(){};THREE.ParticleBasicMaterial&#x3D;function(a){THREE.Material.call(this,a);a&#x3D;a||{};this.color&#x3D;a.color!&#x3D;&#x3D;void 0?new THREE.Color(a.color):new THREE.Color(16777215);this.map&#x3D;a.map!&#x3D;&#x3D;void 0?a.map:null;this.size&#x3D;a.size!&#x3D;&#x3D;void 0?a.size:1;this.sizeAttenuation&#x3D;a.sizeAttenuation!&#x3D;&#x3D;void 0?a.sizeAttenuation:!0;this.vertexColors&#x3D;a.vertexColors!&#x3D;&#x3D;void 0?a.vertexColors:!1;this.fog&#x3D;a.fog!&#x3D;&#x3D;void 0?a.fog:!0};THREE.ParticleBasicMaterial.prototype&#x3D;new THREE.Material;THREE.ParticleBasicMaterial.prototype.constructor&#x3D;THREE.ParticleBasicMaterial;THREE.ParticleCanvasMaterial&#x3D;function(a){THREE.Material.call(this,a);a&#x3D;a||{};this.color&#x3D;a.color!&#x3D;&#x3D;void 0?new THREE.Color(a.color):new THREE.Color(16777215);this.program&#x3D;a.program!&#x3D;&#x3D;void 0?a.program:function(){}};THREE.ParticleCanvasMaterial.prototype&#x3D;new THREE.Material;THREE.ParticleCanvasMaterial.prototype.constructor&#x3D;THREE.ParticleCanvasMaterial;THREE.Texture&#x3D;function(a,b,c,d,f,e){this.id&#x3D;THREE.TextureCount++;this.image&#x3D;a;this.mapping&#x3D;b!&#x3D;&#x3D;void 0?b:new THREE.UVMapping;this.wrapS&#x3D;c!&#x3D;&#x3D;void 0?c:THREE.ClampToEdgeWrapping;this.wrapT&#x3D;d!&#x3D;&#x3D;void 0?d:THREE.ClampToEdgeWrapping;this.magFilter&#x3D;f!&#x3D;&#x3D;void 0?f:THREE.LinearFilter;this.minFilter&#x3D;e!&#x3D;&#x3D;void 0?e:THREE.LinearMipMapLinearFilter;this.offset&#x3D;new THREE.Vector2(0,0);this.repeat&#x3D;new THREE.Vector2(1,1);this.needsUpdate&#x3D;!1;this.onUpdate&#x3D;null};THREE.Texture.prototype&#x3D;{constructor:THREE.Texture,clone:function(){var a&#x3D;new THREE.Texture(this.image,this.mapping,this.wrapS,this.wrapT,this.magFilter,this.minFilter);a.offset.copy(this.offset);a.repeat.copy(this.repeat);return a}};THREE.TextureCount&#x3D;0;THREE.MultiplyOperation&#x3D;0;THREE.MixOperation&#x3D;1;THREE.CubeReflectionMapping&#x3D;function(){};THREE.CubeRefractionMapping&#x3D;function(){};THREE.LatitudeReflectionMapping&#x3D;function(){};THREE.LatitudeRefractionMapping&#x3D;function(){};THREE.SphericalReflectionMapping&#x3D;function(){};THREE.SphericalRefractionMapping&#x3D;function(){};THREE.UVMapping&#x3D;function(){};THREE.RepeatWrapping&#x3D;0;THREE.ClampToEdgeWrapping&#x3D;1;THREE.MirroredRepeatWrapping&#x3D;2;THREE.NearestFilter&#x3D;3;THREE.NearestMipMapNearestFilter&#x3D;4;THREE.NearestMipMapLinearFilter&#x3D;5;THREE.LinearFilter&#x3D;6;THREE.LinearMipMapNearestFilter&#x3D;7;THREE.LinearMipMapLinearFilter&#x3D;8;THREE.ByteType&#x3D;9;THREE.UnsignedByteType&#x3D;10;THREE.ShortType&#x3D;11;THREE.UnsignedShortType&#x3D;12;THREE.IntType&#x3D;13;THREE.UnsignedIntType&#x3D;14;THREE.FloatType&#x3D;15;THREE.AlphaFormat&#x3D;16;THREE.RGBFormat&#x3D;17;THREE.RGBAFormat&#x3D;18;THREE.LuminanceFormat&#x3D;19;THREE.LuminanceAlphaFormat&#x3D;20;THREE.Particle&#x3D;function(a){THREE.Object3D.call(this);this.material&#x3D;a};THREE.Particle.prototype&#x3D;new THREE.Object3D;THREE.Particle.prototype.constructor&#x3D;THREE.Particle;THREE.Line&#x3D;function(a,b,c){THREE.Object3D.call(this);this.geometry&#x3D;a;this.material&#x3D;b;this.type&#x3D;c!&#x3D;&#x3D;void 0?c:THREE.LineStrip;this.geometry&amp;&amp;(this.geometry.boundingSphere||this.geometry.computeBoundingSphere())};THREE.LineStrip&#x3D;0;THREE.LinePieces&#x3D;1;THREE.Line.prototype&#x3D;new THREE.Object3D;THREE.Line.prototype.constructor&#x3D;THREE.Line;THREE.Mesh&#x3D;function(a,b){THREE.Object3D.call(this);this.geometry&#x3D;a;this.material&#x3D;b;if(b instanceof Array)console.warn(“DEPRECATED: Mesh material can no longer be an Array. Using material at index 0…”),this.material&#x3D;b[0];if(this.geometry&amp;&amp;(this.geometry.boundingSphere||this.geometry.computeBoundingSphere(),this.boundRadius&#x3D;a.boundingSphere.radius,this.geometry.morphTargets.length)){this.morphTargetBase&#x3D;-1;this.morphTargetForcedOrder&#x3D;[];this.morphTargetInfluences&#x3D;[];this.morphTargetDictionary&#x3D;{};for(var c&#x3D;0;c&lt;this.geometry.morphTargets.length;c++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[c].name]&#x3D;c}};THREE.Mesh.prototype&#x3D;new THREE.Object3D;THREE.Mesh.prototype.constructor&#x3D;THREE.Mesh;THREE.Mesh.prototype.supr&#x3D;THREE.Object3D.prototype;THREE.Mesh.prototype.getMorphTargetIndexByName&#x3D;function(a){if(this.morphTargetDictionary[a]!&#x3D;&#x3D;void 0)return this.morphTargetDictionary[a];console.log(“THREE.Mesh.getMorphTargetIndexByName: morph target “+a+” does not exist. Returning 0.”);return 0};THREE.Bone&#x3D;function(a){THREE.Object3D.call(this);this.skin&#x3D;a;this.skinMatrix&#x3D;new THREE.Matrix4};THREE.Bone.prototype&#x3D;new THREE.Object3D;THREE.Bone.prototype.constructor&#x3D;THREE.Bone;THREE.Bone.prototype.supr&#x3D;THREE.Object3D.prototype;THREE.Bone.prototype.update&#x3D;function(a,b){this.matrixAutoUpdate&amp;&amp;(b|&#x3D;this.updateMatrix());if(b||this.matrixWorldNeedsUpdate)a?this.skinMatrix.multiply(a,this.matrix):this.skinMatrix.copy(this.matrix),this.matrixWorldNeedsUpdate&#x3D;!1,b&#x3D;!0;var c,d&#x3D;this.children.length;for(c&#x3D;0;c&lt;d;c++)this.children[c].update(this.skinMatrix,b)};THREE.Sprite&#x3D;function(a){THREE.Object3D.call(this);this.color&#x3D;a.color!&#x3D;&#x3D;void 0?new THREE.Color(a.color):new THREE.Color(16777215);this.map&#x3D;a.map instanceof THREE.Texture?a.map:THREE.ImageUtils.loadTexture(a.map);this.blending&#x3D;a.blending!&#x3D;&#x3D;void 0?a.blending:THREE.NormalBlending;this.useScreenCoordinates&#x3D;a.useScreenCoordinates!&#x3D;&#x3D;void 0?a.useScreenCoordinates:!0;this.mergeWith3D&#x3D;a.mergeWith3D!&#x3D;&#x3D;void 0?a.mergeWith3D:!this.useScreenCoordinates;this.affectedByDistance&#x3D;a.affectedByDistance!&#x3D;&#x3D;void 0?a.affectedByDistance:!this.useScreenCoordinates;this.scaleByViewport&#x3D;a.scaleByViewport!&#x3D;&#x3D;void 0?a.scaleByViewport:!this.affectedByDistance;this.alignment&#x3D;a.alignment instanceof THREE.Vector2?a.alignment:THREE.SpriteAlignment.center;this.rotation3d&#x3D;this.rotation;this.rotation&#x3D;0;this.opacity&#x3D;1;this.uvOffset&#x3D;new THREE.Vector2(0,0);this.uvScale&#x3D;new THREE.Vector2(1,1)};THREE.Sprite.prototype&#x3D;new THREE.Object3D;THREE.Sprite.prototype.constructor&#x3D;THREE.Sprite;THREE.Sprite.prototype.updateMatrix&#x3D;function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);if(this.scale.x!&#x3D;&#x3D;1||this.scale.y!&#x3D;&#x3D;1)this.matrix.scale(this.scale),this.boundRadiusScale&#x3D;Math.max(this.scale.x,this.scale.y);this.matrixWorldNeedsUpdate&#x3D;!0};THREE.SpriteAlignment&#x3D;{};THREE.SpriteAlignment.topLeft&#x3D;new THREE.Vector2(1,-1);THREE.SpriteAlignment.topCenter&#x3D;new THREE.Vector2(0,-1);THREE.SpriteAlignment.topRight&#x3D;new THREE.Vector2(-1,-1);THREE.SpriteAlignment.centerLeft&#x3D;new THREE.Vector2(1,0);THREE.SpriteAlignment.center&#x3D;new THREE.Vector2(0,0);THREE.SpriteAlignment.centerRight&#x3D;new THREE.Vector2(-1,0);THREE.SpriteAlignment.bottomLeft&#x3D;new THREE.Vector2(1,1);THREE.SpriteAlignment.bottomCenter&#x3D;new THREE.Vector2(0,1);THREE.SpriteAlignment.bottomRight&#x3D;new THREE.Vector2(-1,1);THREE.Scene&#x3D;function(){THREE.Object3D.call(this);this.overrideMaterial&#x3D;this.fog&#x3D;null;this.matrixAutoUpdate&#x3D;!1;this.objects&#x3D;[];this.lights&#x3D;[];this.__objectsAdded&#x3D;[];this.__objectsRemoved&#x3D;[]};THREE.Scene.prototype&#x3D;new THREE.Object3D;THREE.Scene.prototype.constructor&#x3D;THREE.Scene;THREE.Scene.prototype.addObject&#x3D;function(a){if(a instanceof THREE.Light)this.lights.indexOf(a)&#x3D;&#x3D;&#x3D;-1&amp;&amp;this.lights.push(a);else if(!(a instanceof THREE.Camera||a instanceof THREE.Bone)&amp;&amp;this.objects.indexOf(a)&#x3D;&#x3D;&#x3D;-1){this.objects.push(a);this.__objectsAdded.push(a);var b&#x3D;this.__objectsRemoved.indexOf(a);b!&#x3D;&#x3D;-1&amp;&amp;this.__objectsRemoved.splice(b,1)}for(b&#x3D;0;b&lt;a.children.length;b++)this.addObject(a.children[b])};THREE.Scene.prototype.removeObject&#x3D;function(a){if(a instanceof THREE.Light){var b&#x3D;this.lights.indexOf(a);b!&#x3D;&#x3D;-1&amp;&amp;this.lights.splice(b,1)}else a instanceof THREE.Camera||(b&#x3D;this.objects.indexOf(a),b!&#x3D;&#x3D;-1&amp;&amp;(this.objects.splice(b,1),this.__objectsRemoved.push(a),b&#x3D;this.__objectsAdded.indexOf(a),b!&#x3D;&#x3D;-1&amp;&amp;this.__objectsAdded.splice(b,1)));for(b&#x3D;0;b&lt;a.children.length;b++)this.removeObject(a.children[b])};THREE.CanvasRenderer&#x3D;function(a){function b(a){if(C!&#x3D;a)k.globalAlpha&#x3D;C&#x3D;a}function c(a){if(Q!&#x3D;a){switch(a){case THREE.NormalBlending:k.globalCompositeOperation&#x3D;”source-over”;break;case THREE.AdditiveBlending:k.globalCompositeOperation&#x3D;”lighter”;break;case THREE.SubtractiveBlending:k.globalCompositeOperation&#x3D;”darker”}Q&#x3D;a}}function d(a){if(O!&#x3D;a)k.strokeStyle&#x3D;O&#x3D;a}function f(a){if(w!&#x3D;a)k.fillStyle&#x3D;w&#x3D;a}var e&#x3D;this,g,h,m,l&#x3D;new THREE.Projector,a&#x3D;a||{},j&#x3D;a.canvas!&#x3D;&#x3D;void 0?a.canvas:document.createElement(“canvas”),i,n,o,p,k&#x3D;j.getContext(“2d”),s&#x3D;new THREE.Color(0),K&#x3D;0,C&#x3D;1,Q&#x3D;0,O&#x3D;null,w&#x3D;null,F&#x3D;null,z&#x3D;null,D&#x3D;null,u,r,E,N,W&#x3D;new THREE.RenderableVertex,da&#x3D;new THREE.RenderableVertex,G,H,I,Y,L,B,S,v,R,P,V,J,t&#x3D;new THREE.Color,A&#x3D;new THREE.Color,x&#x3D;new THREE.Color,y&#x3D;new THREE.Color,M&#x3D;new THREE.Color,la&#x3D;[],fa&#x3D;[],ga,ha,ea,aa,Ba,Ca,Da,Ea,Fa,Ga,ma&#x3D;new THREE.Rectangle,Z&#x3D;new THREE.Rectangle,X&#x3D;new THREE.Rectangle,ya&#x3D;!1,$&#x3D;new THREE.Color,ta&#x3D;new THREE.Color,ua&#x3D;new THREE.Color,T&#x3D;new THREE.Vector3,qa,ra,za,ba,sa,va,a&#x3D;16;qa&#x3D;document.createElement(“canvas”);qa.width&#x3D;qa.height&#x3D;2;ra&#x3D;qa.getContext(“2d”);ra.fillStyle&#x3D;”rgba(0,0,0,1)”;ra.fillRect(0,0,2,2);za&#x3D;ra.getImageData(0,0,2,2);ba&#x3D;za.data;sa&#x3D;document.createElement(“canvas”);sa.width&#x3D;sa.height&#x3D;a;va&#x3D;sa.getContext(“2d”);va.translate(-a&#x2F; 2, -a &#x2F;2);va.scale(a,a);a–;this.domElement&#x3D;j;this.sortElements&#x3D;this.sortObjects&#x3D;this.autoClear&#x3D;!0;this.info&#x3D;{render:{vertices:0,faces:0}};this.setSize&#x3D;function(a,b){i&#x3D;a;n&#x3D;b;o&#x3D;Math.floor(i&#x2F;2);p&#x3D;Math.floor(n&#x2F;2);j.width&#x3D;i;j.height&#x3D;n;ma.set(-o,-p,o,p);Z.set(-o,-p,o,p);C&#x3D;1;Q&#x3D;0;D&#x3D;z&#x3D;F&#x3D;w&#x3D;O&#x3D;null};this.setClearColor&#x3D;function(a,b){s.copy(a);K&#x3D;b;Z.set(-o,-p,o,p)};this.setClearColorHex&#x3D;function(a,b){s.setHex(a);K&#x3D;b;Z.set(-o,-p,o,p)};this.clear&#x3D;function(){k.setTransform(1,0,0,-1,o,p);Z.isEmpty()||(Z.minSelf(ma),Z.inflate(2),K&lt;1&amp;&amp;k.clearRect(Math.floor(Z.getX()),Math.floor(Z.getY()),Math.floor(Z.getWidth()),Math.floor(Z.getHeight())),K&gt;0&amp;&amp;(c(THREE.NormalBlending),b(1),f(“rgba(“+Math.floor(s.r</em>255)+”,”+Math.floor(s.g<em>255)+”,”+Math.floor(s.b</em>255)+”,”+K+”)”),k.fillRect(Math.floor(Z.getX()),Math.floor(Z.getY()),Math.floor(Z.getWidth()),Math.floor(Z.getHeight()))),Z.empty())};this.render&#x3D;function(a,j){function i(a){var b,c,d,e;$.setRGB(0,0,0);ta.setRGB(0,0,0);ua.setRGB(0,0,0);b&#x3D;0;for(c&#x3D;a.length;b&lt;c;b++)d&#x3D;a[b],e&#x3D;d.color,d instanceof THREE.AmbientLight?($.r+&#x3D;e.r,$.g+&#x3D;e.g,$.b+&#x3D;e.b):d instanceof THREE.DirectionalLight?(ta.r+&#x3D;e.r,ta.g+&#x3D;e.g,ta.b+&#x3D;e.b):d instanceof THREE.PointLight&amp;&amp;(ua.r+&#x3D;e.r,ua.g+&#x3D;e.g,ua.b+&#x3D;e.b)}function n(a,b,c,d){var e,f,g,h,k,j;e&#x3D;0;for(f&#x3D;a.length;e&lt;f;e++)g&#x3D;a[e],h&#x3D;g.color,g instanceof THREE.DirectionalLight?(k&#x3D;g.matrixWorld.getPosition(),j&#x3D;c.dot(k),j&lt;&#x3D;0||(j*&#x3D;g.intensity,d.r+&#x3D;h.r<em>j,d.g+&#x3D;h.g<em>j,d.b+&#x3D;h.b</em>j)):g instanceof THREE.PointLight&amp;&amp;(k&#x3D;g.matrixWorld.getPosition(),j&#x3D;c.dot(T.sub(k,b).normalize()),j&lt;&#x3D;0||(j*&#x3D;g.distance&#x3D;&#x3D;0?1:1-Math.min(b.distanceTo(k)&#x2F;g.distance,1),j!&#x3D;0&amp;&amp;(j*&#x3D;g.intensity,d.r+&#x3D;h.r*j,d.g+&#x3D;h.g*j,d.b+&#x3D;h.b*j)))}function s(a,e,g){b(g.opacity);c(g.blending);var h,j,i,m,q,n;if(g instanceof THREE.ParticleBasicMaterial){if(g.map)m&#x3D;g.map.image,q&#x3D;m.width&gt;&gt;1,n&#x3D;m.height&gt;&gt;1,g&#x3D;e.scale.x</em>o,i&#x3D;e.scale.y<em>p,h&#x3D;g</em>q,j&#x3D;i<em>n,X.set(a.x-h,a.y-j,a.x+h,a.y+j),ma.intersects(X)&amp;&amp;(k.save(),k.translate(a.x,a.y),k.rotate(-e.rotation),k.scale(g,-i),k.translate(-q,-n),k.drawImage(m,0,0),k.restore())}else g instanceof THREE.ParticleCanvasMaterial&amp;&amp;(h&#x3D;e.scale.x</em>o,j&#x3D;e.scale.y<em>p,X.set(a.x-h,a.y-j,a.x+h,a.y+j),ma.intersects(X)&amp;&amp;(d(g.color.getContextStyle()),f(g.color.getContextStyle()),k.save(),k.translate(a.x,a.y),k.rotate(-e.rotation),k.scale(h,j),g.program(k),k.restore()))}function w(a,e,f,g){b(g.opacity);c(g.blending);k.beginPath();k.moveTo(a.positionScreen.x,a.positionScreen.y);k.lineTo(e.positionScreen.x,e.positionScreen.y);k.closePath();if(g instanceof THREE.LineBasicMaterial){a&#x3D;g.linewidth;if(F!&#x3D;a)k.lineWidth&#x3D;F&#x3D;a;a&#x3D;g.linecap;if(z!&#x3D;a)k.lineCap&#x3D;z&#x3D;a;a&#x3D;g.linejoin;if(D!&#x3D;a)k.lineJoin&#x3D;D&#x3D;a;d(g.color.getContextStyle());k.stroke();X.inflate(g.linewidth</em>2)}}function C(a,d,f,g,h,k,i,q){e.info.render.vertices+&#x3D;3;e.info.render.faces++;b(q.opacity);c(q.blending);G&#x3D;a.positionScreen.x;H&#x3D;a.positionScreen.y;I&#x3D;d.positionScreen.x;Y&#x3D;d.positionScreen.y;L&#x3D;f.positionScreen.x;B&#x3D;f.positionScreen.y;K(G,H,I,Y,L,B);if(q instanceof THREE.MeshBasicMaterial)if(q.map)q.map.mapping instanceof THREE.UVMapping&amp;&amp;(aa&#x3D;i.uvs[0],Aa(G,H,I,Y,L,B,aa[g].u,aa[g].v,aa[h].u,aa[h].v,aa[k].u,aa[k].v,q.map));else if(q.envMap){if(q.envMap.mapping instanceof THREE.SphericalReflectionMapping)a&#x3D;j.matrixWorldInverse,T.copy(i.vertexNormalsWorld[g]),Ba&#x3D;(T.x<em>a.n11+T.y</em>a.n12+T.z<em>a.n13)<em>0.5+0.5,Ca&#x3D;-(T.x</em>a.n21+T.y</em>a.n22+T.z<em>a.n23)<em>0.5+0.5,T.copy(i.vertexNormalsWorld[h]),Da&#x3D;(T.x</em>a.n11+T.y</em>a.n12+T.z<em>a.n13)<em>0.5+0.5,Ea&#x3D;-(T.x</em>a.n21+T.y</em>a.n22+T.z<em>a.n23)<em>0.5+0.5,T.copy(i.vertexNormalsWorld[k]),Fa&#x3D;(T.x</em>a.n11+T.y</em>a.n12+T.z<em>a.n13)<em>0.5+0.5,Ga&#x3D;-(T.x</em>a.n21+T.y</em>a.n22+T.z<em>a.n23)<em>0.5+0.5,Aa(G,H,I,Y,L,B,Ba,Ca,Da,Ea,Fa,Ga,q.envMap)}else q.wireframe?ja(q.color,q.wireframeLinewidth,q.wireframeLinecap,q.wireframeLinejoin):ia(q.color);else if(q instanceof THREE.MeshLambertMaterial)q.map&amp;&amp;!q.wireframe&amp;&amp;(q.map.mapping instanceof THREE.UVMapping&amp;&amp;(aa&#x3D;i.uvs[0],Aa(G,H,I,Y,L,B,aa[g].u,aa[g].v,aa[h].u,aa[h].v,aa[k].u,aa[k].v,q.map)),c(THREE.SubtractiveBlending)),ya?!q.wireframe&amp;&amp;q.shading&#x3D;&#x3D;THREE.SmoothShading&amp;&amp;i.vertexNormalsWorld.length&#x3D;&#x3D;3?(A.r&#x3D;x.r&#x3D;y.r&#x3D;$.r,A.g&#x3D;x.g&#x3D;y.g&#x3D;$.g,A.b&#x3D;x.b&#x3D;y.b&#x3D;$.b,n(m,i.v1.positionWorld,i.vertexNormalsWorld[0],A),n(m,i.v2.positionWorld,i.vertexNormalsWorld[1],x),n(m,i.v3.positionWorld,i.vertexNormalsWorld[2],y),A.r&#x3D;Math.max(0,Math.min(q.color.r</em>A.r,1)),A.g&#x3D;Math.max(0,Math.min(q.color.g</em>A.g,1)),A.b&#x3D;Math.max(0,Math.min(q.color.b<em>A.b,1)),x.r&#x3D;Math.max(0,Math.min(q.color.r</em>x.r,1)),x.g&#x3D;Math.max(0,Math.min(q.color.g<em>x.g,1)),x.b&#x3D;Math.max(0,Math.min(q.color.b</em>x.b,1)),y.r&#x3D;Math.max(0,Math.min(q.color.r<em>y.r,1)),y.g&#x3D;Math.max(0,Math.min(q.color.g</em>y.g,1)),y.b&#x3D;Math.max(0,Math.min(q.color.b<em>y.b,1)),M.r&#x3D;(x.r+y.r)<em>0.5,M.g&#x3D;(x.g+y.g)<em>0.5,M.b&#x3D;(x.b+y.b)<em>0.5,ea&#x3D;wa(A,x,y,M),oa(G,H,I,Y,L,B,0,0,1,0,0,1,ea)):(t.r&#x3D;$.r,t.g&#x3D;$.g,t.b&#x3D;$.b,n(m,i.centroidWorld,i.normalWorld,t),t.r&#x3D;Math.max(0,Math.min(q.color.r</em>t.r,1)),t.g&#x3D;Math.max(0,Math.min(q.color.g</em>t.g,1)),t.b&#x3D;Math.max(0,Math.min(q.color.b</em>t.b,1)),q.wireframe?ja(t,q.wireframeLinewidth,q.wireframeLinecap,q.wireframeLinejoin):ia(t)):q.wireframe?ja(q.color,q.wireframeLinewidth,q.wireframeLinecap,q.wireframeLinejoin):ia(q.color);else if(q instanceof THREE.MeshDepthMaterial)ga&#x3D;j.near,ha&#x3D;j.far,A.r&#x3D;A.g&#x3D;A.b&#x3D;1-na(a.positionScreen.z,ga,ha),x.r&#x3D;x.g&#x3D;x.b&#x3D;1-na(d.positionScreen.z,ga,ha),y.r&#x3D;y.g&#x3D;y.b&#x3D;1-na(f.positionScreen.z,ga,ha),M.r&#x3D;(x.r+y.r)<em>0.5,M.g&#x3D;(x.g+y.g)<em>0.5,M.b&#x3D;(x.b+y.b)<em>0.5,ea&#x3D;wa(A,x,y,M),oa(G,H,I,Y,L,B,0,0,1,0,0,1,ea);else if(q instanceof THREE.MeshNormalMaterial)t.r&#x3D;pa(i.normalWorld.x),t.g&#x3D;pa(i.normalWorld.y),t.b&#x3D;pa(i.normalWorld.z),q.wireframe?ja(t,q.wireframeLinewidth,q.wireframeLinecap,q.wireframeLinejoin):ia(t)}function Q(a,d,f,g,h,k,i,q,o){e.info.render.vertices+&#x3D;4;e.info.render.faces++;b(q.opacity);c(q.blending);if(q.map||q.envMap)C(a,d,g,0,1,3,i,q,o),C(h,f,k,1,2,3,i,q,o);else if(G&#x3D;a.positionScreen.x,H&#x3D;a.positionScreen.y,I&#x3D;d.positionScreen.x,Y&#x3D;d.positionScreen.y,L&#x3D;f.positionScreen.x,B&#x3D;f.positionScreen.y,S&#x3D;g.positionScreen.x,v&#x3D;g.positionScreen.y,R&#x3D;h.positionScreen.x,P&#x3D;h.positionScreen.y,V&#x3D;k.positionScreen.x,J&#x3D;k.positionScreen.y,q instanceof THREE.MeshBasicMaterial)O(G,H,I,Y,L,B,S,v),q.wireframe?ja(q.color,q.wireframeLinewidth,q.wireframeLinecap,q.wireframeLinejoin):ia(q.color);else if(q instanceof THREE.MeshLambertMaterial)ya?!q.wireframe&amp;&amp;q.shading&#x3D;&#x3D;THREE.SmoothShading&amp;&amp;i.vertexNormalsWorld.length&#x3D;&#x3D;4?(A.r&#x3D;x.r&#x3D;y.r&#x3D;M.r&#x3D;$.r,A.g&#x3D;x.g&#x3D;y.g&#x3D;M.g&#x3D;$.g,A.b&#x3D;x.b&#x3D;y.b&#x3D;M.b&#x3D;$.b,n(m,i.v1.positionWorld,i.vertexNormalsWorld[0],A),n(m,i.v2.positionWorld,i.vertexNormalsWorld[1],x),n(m,i.v4.positionWorld,i.vertexNormalsWorld[3],y),n(m,i.v3.positionWorld,i.vertexNormalsWorld[2],M),A.r&#x3D;Math.max(0,Math.min(q.color.r</em>A.r,1)),A.g&#x3D;Math.max(0,Math.min(q.color.g</em>A.g,1)),A.b&#x3D;Math.max(0,Math.min(q.color.b</em>A.b,1)),x.r&#x3D;Math.max(0,Math.min(q.color.r</em>x.r,1)),x.g&#x3D;Math.max(0,Math.min(q.color.g<em>x.g,1)),x.b&#x3D;Math.max(0,Math.min(q.color.b</em>x.b,1)),y.r&#x3D;Math.max(0,Math.min(q.color.r<em>y.r,1)),y.g&#x3D;Math.max(0,Math.min(q.color.g</em>y.g,1)),y.b&#x3D;Math.max(0,Math.min(q.color.b<em>y.b,1)),M.r&#x3D;Math.max(0,Math.min(q.color.r</em>M.r,1)),M.g&#x3D;Math.max(0,Math.min(q.color.g<em>M.g,1)),M.b&#x3D;Math.max(0,Math.min(q.color.b</em>M.b,1)),ea&#x3D;wa(A,x,y,M),K(G,H,I,Y,S,v),oa(G,H,I,Y,S,v,0,0,1,0,0,1,ea),K(R,P,L,B,V,J),oa(R,P,L,B,V,J,1,0,1,1,0,1,ea)):(t.r&#x3D;$.r,t.g&#x3D;$.g,t.b&#x3D;$.b,n(m,i.centroidWorld,i.normalWorld,t),t.r&#x3D;Math.max(0,Math.min(q.color.r<em>t.r,1)),t.g&#x3D;Math.max(0,Math.min(q.color.g</em>t.g,1)),t.b&#x3D;Math.max(0,Math.min(q.color.b<em>t.b,1)),O(G,H,I,Y,L,B,S,v),q.wireframe?ja(t,q.wireframeLinewidth,q.wireframeLinecap,q.wireframeLinejoin):ia(t)):(O(G,H,I,Y,L,B,S,v),q.wireframe?ja(q.color,q.wireframeLinewidth,q.wireframeLinecap,q.wireframeLinejoin):ia(q.color));else if(q instanceof THREE.MeshNormalMaterial)t.r&#x3D;pa(i.normalWorld.x),t.g&#x3D;pa(i.normalWorld.y),t.b&#x3D;pa(i.normalWorld.z),O(G,H,I,Y,L,B,S,v),q.wireframe?ja(t,q.wireframeLinewidth,q.wireframeLinecap,q.wireframeLinejoin):ia(t);else if(q instanceof THREE.MeshDepthMaterial)ga&#x3D;j.near,ha&#x3D;j.far,A.r&#x3D;A.g&#x3D;A.b&#x3D;1-na(a.positionScreen.z,ga,ha),x.r&#x3D;x.g&#x3D;x.b&#x3D;1-na(d.positionScreen.z,ga,ha),y.r&#x3D;y.g&#x3D;y.b&#x3D;1-na(g.positionScreen.z,ga,ha),M.r&#x3D;M.g&#x3D;M.b&#x3D;1-na(f.positionScreen.z,ga,ha),ea&#x3D;wa(A,x,y,M),K(G,H,I,Y,S,v),oa(G,H,I,Y,S,v,0,0,1,0,0,1,ea),K(R,P,L,B,V,J),oa(R,P,L,B,V,J,1,0,1,1,0,1,ea)}function K(a,b,c,d,e,f){k.beginPath();k.moveTo(a,b);k.lineTo(c,d);k.lineTo(e,f);k.lineTo(a,b);k.closePath()}function O(a,b,c,d,e,f,g,h){k.beginPath();k.moveTo(a,b);k.lineTo(c,d);k.lineTo(e,f);k.lineTo(g,h);k.lineTo(a,b);k.closePath()}function ja(a,b,c,e){if(F!&#x3D;b)k.lineWidth&#x3D;F&#x3D;b;if(z!&#x3D;c)k.lineCap&#x3D;z&#x3D;c;if(D!&#x3D;e)k.lineJoin&#x3D;D&#x3D;e;d(a.getContextStyle());k.stroke();X.inflate(b</em>2)}function ia(a){f(a.getContextStyle());k.fill()}function Aa(a,b,c,d,e,g,h,i,j,m,o,n,l){if(l.image.width!&#x3D;0){if(l.needsUpdate&#x3D;&#x3D;!0||la[l.id]&#x3D;&#x3D;void 0){var p&#x3D;l.wrapS&#x3D;&#x3D;THREE.RepeatWrapping,r&#x3D;l.wrapT&#x3D;&#x3D;THREE.RepeatWrapping;la[l.id]&#x3D;k.createPattern(l.image,p&amp;&amp;r?”repeat”:p&amp;&amp;!r?”repeat-x”:!p&amp;&amp;r?”repeat-y”:”no-repeat”);l.needsUpdate&#x3D;!1}f(la[l.id]);var p&#x3D;l.offset.x&#x2F; l.repeat.x, r &#x3D; l.offset.y &#x2F;l.repeat.y,s&#x3D;l.image.width<em>l.repeat.x,u&#x3D;l.image.height</em>l.repeat.y,h&#x3D;(h+p)<em>s,i&#x3D;(i+r)<em>u,j&#x3D;(j+p)<em>s,m&#x3D;(m+r)<em>u,o&#x3D;(o+p)<em>s,n&#x3D;(n+r)<em>u;c-&#x3D;a;d-&#x3D;b;e-&#x3D;a;g-&#x3D;b;j-&#x3D;h;m-&#x3D;i;o-&#x3D;h;n-&#x3D;i;p&#x3D;j</em>n-o</em>m;if(p&#x3D;&#x3D;0){if(fa[l.id]&#x3D;&#x3D;void 0)b&#x3D;document.createElement(“canvas”),b.width&#x3D;l.image.width,b.height&#x3D;l.image.height,a&#x3D;b.getContext(“2d”),a.drawImage(l.image,0,0),fa[l.id]&#x3D;a.getImageData(0,0,l.image.width,l.image.height).data,delete b;b&#x3D;fa[l.id];h&#x3D;(Math.floor(h)+Math.floor(i)<em>l.image.width)<em>4;t.setRGB(b[h]&#x2F; 255, b[h + 1] &#x2F;255,b[h+2]&#x2F;255);ia(t)}else p&#x3D;1&#x2F;p,l&#x3D;(n</em>c-m</em>e)<em>p,m&#x3D;(n</em>d-m</em>g)<em>p,c&#x3D;(j</em>e-o</em>c)<em>p,d&#x3D;(j</em>g-o</em>d)<em>p,a&#x3D;a-l</em>h-c</em>i,h&#x3D;b-m<em>h-d</em>i,k.save(),k.transform(l,m,c,d,a,h),k.fill(),k.restore()}}function oa(a,b,c,d,e,f,g,h,i,j,l,m,o){var n,p;n&#x3D;o.width-1;p&#x3D;o.height-1;g*&#x3D;n;h*&#x3D;p;i*&#x3D;n;j*&#x3D;p;l*&#x3D;n;m*&#x3D;p;c-&#x3D;a;d-&#x3D;b;e-&#x3D;a;f-&#x3D;b;i-&#x3D;g;j-&#x3D;h;l-&#x3D;g;m-&#x3D;h;p&#x3D;1&#x2F;(i<em>m-l</em>j);n&#x3D;(m<em>c-j</em>e)<em>p;j&#x3D;(m</em>d-j<em>f)<em>p;c&#x3D;(i</em>e-l</em>c)<em>p;d&#x3D;(i</em>f-l<em>d)<em>p;a&#x3D;a-n</em>g-c</em>h;b&#x3D;b-j<em>g-d</em>h;k.save();k.transform(n,j,c,d,a,b);k.clip();k.drawImage(o,0,0);k.restore()}function wa(a,b,c,d){var e&#x3D;<del>(a.r*255),f&#x3D;</del>(a.g<em>255),a&#x3D;~~(a.b</em>255),g&#x3D;<del>(b.r*255),h&#x3D;</del>(b.g<em>255),b&#x3D;~~(b.b</em>255),i&#x3D;<del>(c.r*255),j&#x3D;</del>(c.g<em>255),c&#x3D;~~(c.b</em>255),k&#x3D;<del>(d.r*255),l&#x3D;</del>(d.g<em>255),d&#x3D;~~(d.b</em>255);ba[0]&#x3D;e&lt;0?0:e&gt;255?255:e;ba[1]&#x3D;f&lt;0?0:f&gt;255?255:f;ba[2]&#x3D;a&lt;0?0:a&gt;255?255:a;ba[4]&#x3D;g&lt;0?0:g&gt;255?255:g;ba[5]&#x3D;h&lt;0?0:h&gt;255?255:h;ba[6]&#x3D;b&lt;0?0:b&gt;255?255:b;ba[8]&#x3D;i&lt;0?0:i&gt;255?255:i;ba[9]&#x3D;j&lt;0?0:j&gt;255?255:j;ba[10]&#x3D;c&lt;0?0:c&gt;255?255:c;ba[12]&#x3D;k&lt;0?0:k&gt;255?255:k;ba[13]&#x3D;l&lt;0?0:l&gt;255?255:l;ba[14]&#x3D;d&lt;0?0:d&gt;255?255:d;ra.putImageData(za,0,0);va.drawImage(qa,0,0);return sa}function na(a,b,c){a&#x3D;(a-b)&#x2F;(c-b);return a<em>a</em>(3-2<em>a)}function pa(a){a&#x3D;(a+1)<em>0.5;return a&lt;0?0:a&gt;1?1:a}function ka(a,b){var c&#x3D;b.x-a.x,d&#x3D;b.y-a.y,e&#x3D;c</em>c+d</em>d;e!&#x3D;0&amp;&amp;(e&#x3D;1&#x2F;Math.sqrt(e),c*&#x3D;e,d*&#x3D;e,b.x+&#x3D;c,b.y+&#x3D;d,a.x-&#x3D;c,a.y-&#x3D;d)}var xa,Ha,U,ca;this.autoClear?this.clear():k.setTransform(1,0,0,-1,o,p);e.info.render.vertices&#x3D;0;e.info.render.faces&#x3D;0;g&#x3D;l.projectScene(a,j,this.sortElements);h&#x3D;g.elements;m&#x3D;g.lights;(ya&#x3D;m.length&gt;0)&amp;&amp;i(m);xa&#x3D;0;for(Ha&#x3D;h.length;xa&lt;Ha;xa++)if(U&#x3D;h[xa],ca&#x3D;U.material,ca&#x3D;ca instanceof THREE.MeshFaceMaterial?U.faceMaterial:ca,!(ca&#x3D;&#x3D;null||ca.opacity&#x3D;&#x3D;0)){X.empty();if(U instanceof THREE.RenderableParticle)u&#x3D;U,u.x*&#x3D;o,u.y*&#x3D;p,s(u,U,ca,a);else if(U instanceof THREE.RenderableLine)u&#x3D;U.v1,r&#x3D;U.v2,u.positionScreen.x*&#x3D;o,u.positionScreen.y*&#x3D;p,r.positionScreen.x*&#x3D;o,r.positionScreen.y*&#x3D;p,X.addPoint(u.positionScreen.x,u.positionScreen.y),X.addPoint(r.positionScreen.x,r.positionScreen.y),ma.intersects(X)&amp;&amp;w(u,r,U,ca,a);else if(U instanceof THREE.RenderableFace3)u&#x3D;U.v1,r&#x3D;U.v2,E&#x3D;U.v3,u.positionScreen.x*&#x3D;o,u.positionScreen.y*&#x3D;p,r.positionScreen.x*&#x3D;o,r.positionScreen.y*&#x3D;p,E.positionScreen.x*&#x3D;o,E.positionScreen.y*&#x3D;p,ca.overdraw&amp;&amp;(ka(u.positionScreen,r.positionScreen),ka(r.positionScreen,E.positionScreen),ka(E.positionScreen,u.positionScreen)),X.add3Points(u.positionScreen.x,u.positionScreen.y,r.positionScreen.x,r.positionScreen.y,E.positionScreen.x,E.positionScreen.y),ma.intersects(X)&amp;&amp;C(u,r,E,0,1,2,U,ca,a);else if(U instanceof THREE.RenderableFace4)u&#x3D;U.v1,r&#x3D;U.v2,E&#x3D;U.v3,N&#x3D;U.v4,u.positionScreen.x*&#x3D;o,u.positionScreen.y*&#x3D;p,r.positionScreen.x*&#x3D;o,r.positionScreen.y*&#x3D;p,E.positionScreen.x*&#x3D;o,E.positionScreen.y*&#x3D;p,N.positionScreen.x*&#x3D;o,N.positionScreen.y*&#x3D;p,W.positionScreen.copy(r.positionScreen),da.positionScreen.copy(N.positionScreen),ca.overdraw&amp;&amp;(ka(u.positionScreen,r.positionScreen),ka(r.positionScreen,N.positionScreen),ka(N.positionScreen,u.positionScreen),ka(E.positionScreen,W.positionScreen),ka(E.positionScreen,da.positionScreen)),X.addPoint(u.positionScreen.x,u.positionScreen.y),X.addPoint(r.positionScreen.x,r.positionScreen.y),X.addPoint(E.positionScreen.x,E.positionScreen.y),X.addPoint(N.positionScreen.x,N.positionScreen.y),ma.intersects(X)&amp;&amp;Q(u,r,E,N,W,da,U,ca,a);Z.addRectangle(X)}k.setTransform(1,0,0,1,0,0)}};THREE.RenderableVertex&#x3D;function(){this.positionWorld&#x3D;new THREE.Vector3;this.positionScreen&#x3D;new THREE.Vector4;this.visible&#x3D;!0};THREE.RenderableVertex.prototype.copy&#x3D;function(a){this.positionWorld.copy(a.positionWorld);this.positionScreen.copy(a.positionScreen)};THREE.RenderableFace3&#x3D;function(){this.v1&#x3D;new THREE.RenderableVertex;this.v2&#x3D;new THREE.RenderableVertex;this.v3&#x3D;new THREE.RenderableVertex;this.centroidWorld&#x3D;new THREE.Vector3;this.centroidScreen&#x3D;new THREE.Vector3;this.normalWorld&#x3D;new THREE.Vector3;this.vertexNormalsWorld&#x3D;[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];this.faceMaterial&#x3D;this.material&#x3D;null;this.uvs&#x3D;[[]];this.z&#x3D;null};THREE.RenderableFace4&#x3D;function(){this.v1&#x3D;new THREE.RenderableVertex;this.v2&#x3D;new THREE.RenderableVertex;this.v3&#x3D;new THREE.RenderableVertex;this.v4&#x3D;new THREE.RenderableVertex;this.centroidWorld&#x3D;new THREE.Vector3;this.centroidScreen&#x3D;new THREE.Vector3;this.normalWorld&#x3D;new THREE.Vector3;this.vertexNormalsWorld&#x3D;[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];this.faceMaterial&#x3D;this.material&#x3D;null;this.uvs&#x3D;[[]];this.z&#x3D;null};THREE.RenderableObject&#x3D;function(){this.z&#x3D;this.object&#x3D;null};THREE.RenderableParticle&#x3D;function(){this.rotation&#x3D;this.z&#x3D;this.y&#x3D;this.x&#x3D;null;this.scale&#x3D;new THREE.Vector2;this.material&#x3D;null};THREE.RenderableLine&#x3D;function(){this.z&#x3D;null;this.v1&#x3D;new THREE.RenderableVertex;this.v2&#x3D;new THREE.RenderableVertex;this.material&#x3D;null};</p>
<p>function randomRange(t,i){return Math.random()<em>(i-t)+t}Particle3D&#x3D;function(t){THREE.Particle.call(this,t),this.velocity&#x3D;new THREE.Vector3(0,-2,0),this.velocity.rotateX(randomRange(-45,45)),this.velocity.rotateY(randomRange(0,360)),this.gravity&#x3D;new THREE.Vector3(0,0,0),this.drag&#x3D;1},Particle3D.prototype&#x3D;new THREE.Particle,Particle3D.prototype.constructor&#x3D;Particle3D,Particle3D.prototype.updatePhysics&#x3D;function(){this.velocity.multiplyScalar(this.drag),this.velocity.addSelf(this.gravity),this.position.addSelf(this.velocity)};var TO_RADIANS&#x3D;Math.PI&#x2F;180;THREE.Vector3.prototype.rotateY&#x3D;function(t){cosRY&#x3D;Math.cos(t</em>TO_RADIANS),sinRY&#x3D;Math.sin(t<em>TO_RADIANS);var i&#x3D;this.z,o&#x3D;this.x;this.x&#x3D;o</em>cosRY+i<em>sinRY,this.z&#x3D;o</em>-sinRY+i<em>cosRY},THREE.Vector3.prototype.rotateX&#x3D;function(t){cosRY&#x3D;Math.cos(t</em>TO_RADIANS),sinRY&#x3D;Math.sin(t<em>TO_RADIANS);var i&#x3D;this.z,o&#x3D;this.y;this.y&#x3D;o</em>cosRY+i<em>sinRY,this.z&#x3D;o</em>-sinRY+i<em>cosRY},THREE.Vector3.prototype.rotateZ&#x3D;function(t){cosRY&#x3D;Math.cos(t</em>TO_RADIANS),sinRY&#x3D;Math.sin(t<em>TO_RADIANS);var i&#x3D;this.x,o&#x3D;this.y;this.y&#x3D;o</em>cosRY+i<em>sinRY,this.x&#x3D;o</em>-sinRY+i*cosRY};</p>
<p>$(function(){var container&#x3D;document.querySelector(“.snow-container”);if(&#x2F;MSIE 6|MSIE 7|MSIE 8&#x2F;.test(navigator.userAgent)){return}else{if(&#x2F;MSIE 9|MSIE 10&#x2F;.test(navigator.userAgent)){$(container).css(“height”,$(window).height()).bind(“click”,function(){$(this).remove()})}}var containerWidth&#x3D;$(container).width();var containerHeight&#x3D;$(container).height();var particle;var camera;var scene;var renderer;var mouseX&#x3D;0;var mouseY&#x3D;0;var windowHalfX&#x3D;window.innerWidth&#x2F;2;var windowHalfY&#x3D;window.innerHeight&#x2F;2;var particles&#x3D;[];var particleImage&#x3D;new Image();particleImage.src&#x3D;”<a href="http://img14.360buyimg.com/cms/jfs/t595/323/625407732/3275/e86993e8/5476ba25Ne75aa640.png&quot;;var">http://img14.360buyimg.com/cms/jfs/t595/323/625407732/3275/e86993e8/5476ba25Ne75aa640.png&quot;;var</a> snowNum&#x3D;500;function init(){camera&#x3D;new THREE.PerspectiveCamera(75,containerWidth&#x2F;containerHeight,1,10000);camera.position.z&#x3D;1000;scene&#x3D;new THREE.Scene();scene.add(camera);renderer&#x3D;new THREE.CanvasRenderer();renderer.setSize(containerWidth,containerHeight);var material&#x3D;new THREE.ParticleBasicMaterial({map:new THREE.Texture(particleImage)});for(var i&#x3D;0;i&lt;snowNum;i++){particle&#x3D;new Particle3D(material);particle.position.x&#x3D;Math.random()*2000-1000;particle.position.y&#x3D;Math.random()*2000-1000;particle.position.z&#x3D;Math.random()*2000-1000;particle.scale.x&#x3D;particle.scale.y&#x3D;1;scene.add(particle);particles.push(particle)}container.appendChild(renderer.domElement);document.addEventListener(“mousemove”,onDocumentMouseMove,false);document.addEventListener(“touchstart”,onDocumentTouchStart,false);document.addEventListener(“touchmove”,onDocumentTouchMove,false);setInterval(loop,1000&#x2F;40)}function onDocumentMouseMove(event){mouseX&#x3D;event.clientX-windowHalfX;mouseY&#x3D;event.clientY-windowHalfY}function onDocumentTouchStart(event){if(event.touches.length&#x3D;&#x3D;1){event.preventDefault();mouseX&#x3D;event.touches[0].pageX-windowHalfX;mouseY&#x3D;event.touches[0].pageY-windowHalfY}}function onDocumentTouchMove(event){if(event.touches.length&#x3D;&#x3D;1){event.preventDefault();mouseX&#x3D;event.touches[0].pageX-windowHalfX;mouseY&#x3D;event.touches[0].pageY-windowHalfY}}function loop(){for(var i&#x3D;0;i&lt;particles.length;i++){var particle&#x3D;particles[i];particle.updatePhysics();with(particle.position){if(y&lt;-1000){y+&#x3D;2000}if(x&gt;1000){x-&#x3D;2000}else{if(x&lt;-1000){x+&#x3D;2000}}if(z&gt;1000){z-&#x3D;2000}else{if(z&lt;-1000){z+&#x3D;2000}}}}camera.position.x+&#x3D;(mouseX-camera.position.x)*0.005;camera.position.y+&#x3D;(-mouseY-camera.position.y)*0.005;camera.lookAt(scene.position);renderer.render(scene,camera)}init()});</p>
